{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.948+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.949+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.949+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     4e7075f                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.950+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.950+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 13:24:21 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.950+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.950+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:24:46.951+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (93.91ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.045+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T15:24:47.046+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T15:24:47.046+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T15:24:47.046+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=16, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T15:24:47.046+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T15:24:47.050+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (5.05ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.050+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 0 entries (0.14ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.051+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.52ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.051+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.052+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.052+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.72ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.052+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.053+02:00"}
{"level":"INFO","line":280,"message":"No existing tables to load","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T15:24:47.053+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (0.65ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.053+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.054+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.054+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.054+02:00"}
{"level":"WARN","line":558,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.054+02:00"}
{"level":"WARN","line":559,"message":"â•‘                    âš ï¸  SECURITY NOTICE âš ï¸                           â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.055+02:00"}
{"level":"WARN","line":560,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.055+02:00"}
{"level":"WARN","line":561,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.055+02:00"}
{"level":"WARN","line":562,"message":"â•‘  Root user has NO PASSWORD (localhost-only access enabled)       â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.055+02:00"}
{"level":"WARN","line":563,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.055+02:00"}
{"level":"WARN","line":564,"message":"â•‘  SECURITY ENFORCEMENT:                                           â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.055+02:00"}
{"level":"WARN","line":565,"message":"â•‘  â€¢ Remote authentication is BLOCKED for users with no password   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.055+02:00"}
{"level":"WARN","line":566,"message":"â•‘  â€¢ Root can only connect from localhost (127.0.0.1)              â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.056+02:00"}
{"level":"WARN","line":567,"message":"â•‘  â€¢ This configuration is secure by design                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.056+02:00"}
{"level":"WARN","line":568,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.056+02:00"}
{"level":"WARN","line":569,"message":"â•‘  TO ENABLE REMOTE ACCESS:                                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.056+02:00"}
{"level":"WARN","line":570,"message":"â•‘  Set a strong password for the root user:                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.056+02:00"}
{"level":"WARN","line":571,"message":"â•‘     ALTER USER root SET PASSWORD 'strong-password-here';         â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.056+02:00"}
{"level":"WARN","line":572,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.057+02:00"}
{"level":"WARN","line":573,"message":"â•‘  Note: allow_remote_access config is currently: DISABLED               â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.057+02:00"}
{"level":"WARN","line":581,"message":"â•‘  (Remote access still requires password for system users)        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.057+02:00"}
{"level":"WARN","line":582,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.057+02:00"}
{"level":"WARN","line":583,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.057+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (3.26ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.057+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 106.69ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.057+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.058+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.058+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=16, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.058+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.058+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.059+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.060+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:24:47.064+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T15:24:47.064+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T15:24:47.067+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:24:47.072+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T15:24:47.078+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T15:24:47.082+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:24:47.086+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:24:47.091+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T15:24:47.096+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:24:47.100+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T15:24:47.104+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T15:24:47.108+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T15:24:47.113+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T15:24:47.117+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T15:24:47.120+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T15:24:47.123+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:24:47.127+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T15:24:47.131+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T15:24:47.133+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:27:53.141+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:27:53.142+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:27:55.494+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:30:52.983+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T15:30:52.984+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 3e41192c2695429c9bcdee06e6a919c9 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:31:32.117+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=3e41192c2695429c9bcdee06e6a919c9, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:31:32.120+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 3e41192c2695429c9bcdee06e6a919c9 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:31:32.121+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-ef4cfef5418c24e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:31:32.124+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-ef4cfef5418c24e8: Not found: Subscription not found: sub-ef4cfef5418c24e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:31:32.731+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-ef4cfef5418c24e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:31:32.732+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:32:25.861+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T15:32:25.862+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_log\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Error during planning: table 'kalam.system.audit_log' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T15:32:31.681+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: None","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:33:19.578+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 3e41192c2695429c9bcdee06e6a919c9","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:33:19.578+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:02.534+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:02.844+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 0 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T15:38:02.845+02:00"}
{"level":"INFO","line":556,"message":"WebSocket shutdown complete","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T15:38:02.845+02:00"}
{"level":"INFO","line":408,"message":"Waiting up to 300s for active jobs to complete...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:02.845+02:00"}
{"level":"INFO","line":80,"message":"Initiating job manager shutdown","target":"kalamdb_core::jobs::jobs_manager::types","thread":"main","timestamp":"2025-12-09T15:38:02.845+02:00"}
{"level":"INFO","line":429,"message":"All jobs completed successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:02.846+02:00"}
{"level":"INFO","line":447,"message":"Performing cleanup to release file descriptors...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:02.846+02:00"}
{"level":"INFO","line":451,"message":"Graceful shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:02.846+02:00"}
{"level":"INFO","line":455,"message":"Server shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:02.846+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.734+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.734+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.735+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     4e7075f                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.735+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.735+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 13:38:05 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.735+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.736+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T15:38:25.736+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (133.85ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.870+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T15:38:25.871+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T15:38:25.872+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T15:38:25.872+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=16, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T15:38:25.872+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T15:38:25.877+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (6.82ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.877+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 0 entries (0.75ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.878+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.68ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.879+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.880+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.881+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (1.12ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.881+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.882+02:00"}
{"level":"INFO","line":280,"message":"No existing tables to load","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T15:38:25.882+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (0.87ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.882+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.883+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.883+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.883+02:00"}
{"level":"WARN","line":558,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.884+02:00"}
{"level":"WARN","line":559,"message":"â•‘                    âš ï¸  SECURITY NOTICE âš ï¸                           â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.884+02:00"}
{"level":"WARN","line":560,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.884+02:00"}
{"level":"WARN","line":561,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.884+02:00"}
{"level":"WARN","line":562,"message":"â•‘  Root user has NO PASSWORD (localhost-only access enabled)       â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.885+02:00"}
{"level":"WARN","line":563,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.885+02:00"}
{"level":"WARN","line":564,"message":"â•‘  SECURITY ENFORCEMENT:                                           â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.885+02:00"}
{"level":"WARN","line":565,"message":"â•‘  â€¢ Remote authentication is BLOCKED for users with no password   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.885+02:00"}
{"level":"WARN","line":566,"message":"â•‘  â€¢ Root can only connect from localhost (127.0.0.1)              â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.886+02:00"}
{"level":"WARN","line":567,"message":"â•‘  â€¢ This configuration is secure by design                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.886+02:00"}
{"level":"WARN","line":568,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.886+02:00"}
{"level":"WARN","line":569,"message":"â•‘  TO ENABLE REMOTE ACCESS:                                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.886+02:00"}
{"level":"WARN","line":570,"message":"â•‘  Set a strong password for the root user:                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.887+02:00"}
{"level":"WARN","line":571,"message":"â•‘     ALTER USER root SET PASSWORD 'strong-password-here';         â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.887+02:00"}
{"level":"WARN","line":572,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.887+02:00"}
{"level":"WARN","line":573,"message":"â•‘  Note: allow_remote_access config is currently: DISABLED               â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.887+02:00"}
{"level":"WARN","line":581,"message":"â•‘  (Remote access still requires password for system users)        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.888+02:00"}
{"level":"WARN","line":582,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.888+02:00"}
{"level":"WARN","line":583,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.888+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (5.01ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.888+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 152.44ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.888+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.889+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.889+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=16, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.889+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.889+02:00"}
{"level":"INFO","line":326,"message":"Admin UI not available (run 'npm run build' in ui/ and rebuild server)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.890+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.890+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T15:38:25.894+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T15:38:25.894+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T15:38:25.897+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:38:25.899+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T15:38:25.901+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T15:38:25.903+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:38:25.904+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T15:38:25.906+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T15:38:25.908+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:38:25.910+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T15:38:25.913+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T15:38:25.917+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T15:38:25.920+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T15:38:25.925+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T15:38:25.931+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T15:38:25.935+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:38:25.939+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T15:38:25.942+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T15:38:25.943+02:00"}
{"level":"INFO","line":112,"message":"Login attempt for 'root' failed: password not set. Set with: ALTER USER root SET PASSWORD '...'","target":"kalamdb_api::handlers::auth","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T15:40:57.102+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 843b808de9384be5ac242f8532ff94b8 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:43:11.485+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=843b808de9384be5ac242f8532ff94b8, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:43:11.487+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 843b808de9384be5ac242f8532ff94b8 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:43:11.488+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-c8c9363302175ce0: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:43:11.492+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:43:35.060+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 843b808de9384be5ac242f8532ff94b8","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T15:43:35.060+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.messages (type: User, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:44:17.678+02:00"}
{"level":"INFO","line":188,"message":"Table definition for chat.messages saved to information_schema.tables (version 1)","target":"kalamdb_core::sql::executor::helpers::tables","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:44:17.679+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:44:17.755+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:44:17.755+02:00"}
{"level":"INFO","line":275,"message":"âœ… USER TABLE created: chat.messages | storage: local | columns: 5 | pk: id | system_columns: [_seq, _deleted]","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:44:17.756+02:00"}
{"level":"INFO","line":69,"message":"âœ… CREATE TABLE succeeded: User table chat.messages created successfully","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T15:44:17.757+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 49409ed122f14add94aa7c0ae93be61c (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:01.447+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=49409ed122f14add94aa7c0ae93be61c, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:01.449+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 49409ed122f14add94aa7c0ae93be61c as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:01.450+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-4975d25a364e6165: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:01.454+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-4975d25a364e6165: Not found: Subscription not found: sub-4975d25a364e6165","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:14.613+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-4975d25a364e6165","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:14.613+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-4975d25a364e6165: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:15.244+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:44.732+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 49409ed122f14add94aa7c0ae93be61c","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T15:45:44.733+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: a01a75752fb9461db7f6b7392f87dfb1 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:46:32.919+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=a01a75752fb9461db7f6b7392f87dfb1, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:46:32.921+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: a01a75752fb9461db7f6b7392f87dfb1 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:46:32.923+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-4975d25a364e6165: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:46:32.926+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-4975d25a364e6165: Not found: Subscription not found: sub-4975d25a364e6165","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:46:44.198+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-4975d25a364e6165","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:46:44.198+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-eb143db314dafbd1: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:46:44.916+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-eb143db314dafbd1: Not found: Subscription not found: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:04.426+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:04.426+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection a01a75752fb9461db7f6b7392f87dfb1 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:04.946+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:04.946+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 16 rows (has_more: false, last_seq: Some(SeqId(256778602960551937)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:04.953+02:00"}
{"level":"INFO","line":80,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:04.954+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection a01a75752fb9461db7f6b7392f87dfb1","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:14.986+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:14.986+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-5e41ec36b7768f4b: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:16.159+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-5e41ec36b7768f4b: Not found: Subscription not found: sub-5e41ec36b7768f4b","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:50.195+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-5e41ec36b7768f4b","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:47:50.196+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:49:42.165+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: a01a75752fb9461db7f6b7392f87dfb1","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T15:49:42.165+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: dd42dc67d56347a38688f8c37c732089 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:17.298+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=dd42dc67d56347a38688f8c37c732089, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:17.300+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: dd42dc67d56347a38688f8c37c732089 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:17.301+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-eb143db314dafbd1: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:17.304+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-eb143db314dafbd1: Not found: Subscription not found: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:17.604+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:17.604+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-eb143db314dafbd1: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:18.710+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-eb143db314dafbd1: Not found: Subscription not found: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:20.295+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:20.296+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-eb143db314dafbd1: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:20.951+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-eb143db314dafbd1: Not found: Subscription not found: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:22.027+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:22.027+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-eb143db314dafbd1: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:22.698+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-eb143db314dafbd1: Not found: Subscription not found: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:23.415+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-eb143db314dafbd1","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:07:23.415+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:12:03.293+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: dd42dc67d56347a38688f8c37c732089","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T16:12:03.293+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: cd62964102fc4d3c905d6517f03f6483 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:12:12.238+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=cd62964102fc4d3c905d6517f03f6483, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:12:12.240+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: cd62964102fc4d3c905d6517f03f6483 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:12:12.241+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-c8c9363302175ce0: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:12:12.244+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-c8c9363302175ce0: Not found: Subscription not found: sub-c8c9363302175ce0","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:12:18.003+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-c8c9363302175ce0","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:12:18.003+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.conversations (type: User, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:46.119+02:00"}
{"level":"INFO","line":188,"message":"Table definition for chat.conversations saved to information_schema.tables (version 1)","target":"kalamdb_core::sql::executor::helpers::tables","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:46.120+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:46.197+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:46.197+02:00"}
{"level":"INFO","line":275,"message":"âœ… USER TABLE created: chat.conversations | storage: local | columns: 3 | pk: id | system_columns: [_seq, _deleted]","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:46.198+02:00"}
{"level":"INFO","line":69,"message":"âœ… CREATE TABLE succeeded: User table chat.conversations created successfully","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:46.198+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.typing_events (type: Stream, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:55.253+02:00"}
{"level":"INFO","line":188,"message":"Table definition for chat.typing_events saved to information_schema.tables (version 1)","target":"kalamdb_core::sql::executor::helpers::tables","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:55.254+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:55.254+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:55.255+02:00"}
{"level":"INFO","line":723,"message":"âœ… STREAM TABLE created: chat.typing_events | columns: 5 | TTL: 30s | auto_increment: false | system_columns: none","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:55.255+02:00"}
{"level":"INFO","line":69,"message":"âœ… CREATE TABLE succeeded: Stream table chat.typing_events created successfully","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:55.255+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.typing_events (type: Stream, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:56.062+02:00"}
{"level":"WARN","line":624,"message":"âŒ CREATE TABLE (TYPE='STREAM') failed: chat.typing_events already exists","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:14:56.063+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:15:05.781+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: cd62964102fc4d3c905d6517f03f6483","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:15:05.781+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.typing_events (type: Stream, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:15:31.428+02:00"}
{"level":"WARN","line":624,"message":"âŒ CREATE TABLE (TYPE='STREAM') failed: chat.typing_events already exists","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:15:31.428+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: caeea5250e274061b970f15bc4ad00f6 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:11.490+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=caeea5250e274061b970f15bc4ad00f6, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:11.492+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: caeea5250e274061b970f15bc4ad00f6 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:11.493+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-f38a08d55edc5f7d: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:11.495+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-f38a08d55edc5f7d: Not found: Subscription not found: sub-f38a08d55edc5f7d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:13.524+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-f38a08d55edc5f7d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:13.525+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-f38a08d55edc5f7d: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:16.237+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-f38a08d55edc5f7d: Not found: Subscription not found: sub-f38a08d55edc5f7d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:56.990+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-f38a08d55edc5f7d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:25:56.990+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-f6b68cdd8b15741f: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:26:00.756+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-f6b68cdd8b15741f: Not found: Subscription not found: sub-f6b68cdd8b15741f","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:26:12.867+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-f6b68cdd8b15741f","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:26:12.867+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:26:29.620+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: caeea5250e274061b970f15bc4ad00f6","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:26:29.621+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 4d63709d2f9b415496234c8406e82d3e (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:29:00.464+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=4d63709d2f9b415496234c8406e82d3e, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:29:00.466+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 4d63709d2f9b415496234c8406e82d3e as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:29:00.467+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:29:00.470+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-fdee3138327526e8: Not found: Subscription not found: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:29:00.949+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:29:00.950+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-f793a16f515209f0: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:31:29.122+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-f793a16f515209f0: Not found: Subscription not found: sub-f793a16f515209f0","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:31:30.057+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-f793a16f515209f0","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:31:30.057+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:32:46.678+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-fdee3138327526e8: Not found: Subscription not found: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:32:48.157+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:32:48.157+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:32:50.995+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: None","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:36:35.882+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 4d63709d2f9b415496234c8406e82d3e","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T16:36:35.883+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 779059c6bb884605a7a66426277c88ea (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:41:34.338+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=779059c6bb884605a7a66426277c88ea, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:41:34.340+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 779059c6bb884605a7a66426277c88ea as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:41:34.341+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:41:34.345+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:42:11.055+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 779059c6bb884605a7a66426277c88ea","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:42:11.057+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 01d2c2b960ea494aa5098f3c29931700 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:07.705+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=01d2c2b960ea494aa5098f3c29931700, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:07.708+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 01d2c2b960ea494aa5098f3c29931700 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:07.710+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:07.714+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-fdee3138327526e8: Not found: Subscription not found: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:22.482+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:22.482+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:26.299+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:30.851+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 01d2c2b960ea494aa5098f3c29931700","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T16:48:30.852+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 13e5b9645fe64f94b004d7972c39b4e4 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:25.917+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=13e5b9645fe64f94b004d7972c39b4e4, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:25.918+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 13e5b9645fe64f94b004d7972c39b4e4 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:25.919+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:25.921+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-fdee3138327526e8: Not found: Subscription not found: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:29.714+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:29.714+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:57.272+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 13e5b9645fe64f94b004d7972c39b4e4","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T16:49:57.272+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: b338454a1475411f98dd6c4491128faa (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:50:26.620+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=b338454a1475411f98dd6c4491128faa, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:50:26.629+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: b338454a1475411f98dd6c4491128faa as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:50:26.633+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:50:26.646+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe sub-fdee3138327526e8: Not found: Subscription not found: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:50:43.391+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-fdee3138327526e8","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:50:43.391+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:51:26.788+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: b338454a1475411f98dd6c4491128faa","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T16:51:26.789+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 7c30871f441f433f9fda2ee66e203fd4 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:51:33.211+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=7c30871f441f433f9fda2ee66e203fd4, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:51:33.212+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 7c30871f441f433f9fda2ee66e203fd4 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:51:33.214+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:51:33.216+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:52:48.167+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:53:57.785+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 7c30871f441f433f9fda2ee66e203fd4","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:53:57.785+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 2293e416a3704e9fbe975350c8dcfdda (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:54:42.067+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=2293e416a3704e9fbe975350c8dcfdda, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:54:42.069+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 2293e416a3704e9fbe975350c8dcfdda as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:54:42.070+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:54:42.074+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:55:03.375+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 2293e416a3704e9fbe975350c8dcfdda","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T16:55:03.376+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 6bb521caa02d41cda550c964914c0894 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:55:07.143+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=6bb521caa02d41cda550c964914c0894, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:55:07.145+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 6bb521caa02d41cda550c964914c0894 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:55:07.146+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:55:07.149+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:55:25.807+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-fdee3138327526e8: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:55:40.965+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-26b28080f728520f: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:55:58.650+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-26b28080f728520f: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:56:10.952+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:58:02.396+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 6bb521caa02d41cda550c964914c0894","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T16:58:02.397+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: c0991af26faa499ca1b2c8abca0a2377 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:58:06.006+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=c0991af26faa499ca1b2c8abca0a2377, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:58:06.008+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: c0991af26faa499ca1b2c8abca0a2377 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:58:06.009+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-26b28080f728520f: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:58:06.012+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:58:15.466+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: c0991af26faa499ca1b2c8abca0a2377","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T16:58:15.466+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 3a207c73301843fab179869df4bd41a8 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:58:22.233+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=3a207c73301843fab179869df4bd41a8, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:58:22.238+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 3a207c73301843fab179869df4bd41a8 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:58:22.239+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-26b28080f728520f: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:58:22.245+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-7187815513197e41: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:58:40.023+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-7187815513197e41: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:59:09.596+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-7187815513197e41: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:59:16.462+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-69b1ebcf2db7fb13: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T16:59:32.517+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-69b1ebcf2db7fb13: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T17:00:27.126+02:00"}
{"level":"ERROR","line":139,"message":"Failed to register subscription sub-69b1ebcf2db7fb13: Invalid SQL: Query must use namespace.table format","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T17:00:29.243+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:02:31.960+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:02:32.265+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 1 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:02:32.265+02:00"}
{"level":"WARN","line":546,"message":"Force closing 1 connections after timeout","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:02:37.328+02:00"}
{"level":"INFO","line":556,"message":"WebSocket shutdown complete","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:02:37.331+02:00"}
{"level":"INFO","line":408,"message":"Waiting up to 300s for active jobs to complete...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:02:37.332+02:00"}
{"level":"INFO","line":80,"message":"Initiating job manager shutdown","target":"kalamdb_core::jobs::jobs_manager::types","thread":"main","timestamp":"2025-12-09T17:02:37.333+02:00"}
{"level":"INFO","line":429,"message":"All jobs completed successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:02:37.335+02:00"}
{"level":"INFO","line":447,"message":"Performing cleanup to release file descriptors...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:02:37.336+02:00"}
{"level":"INFO","line":451,"message":"Graceful shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:02:37.337+02:00"}
{"level":"INFO","line":455,"message":"Server shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:02:37.338+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.161+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.162+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.162+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     eece582                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.162+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.163+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 15:04:00 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.163+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.163+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:04:15.163+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (147.18ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.311+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:04:15.312+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:04:15.312+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:04:15.313+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=16, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T17:04:15.313+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:04:15.317+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (5.98ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.317+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 1 entries (0.63ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.318+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.45ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.319+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.319+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.320+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.88ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.320+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.320+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:04:15.322+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:04:15.322+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:04:15.322+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:04:15.323+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:04:15.323+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:04:15.323+02:00"}
{"level":"INFO","line":351,"message":"Loaded 3 tables: 2 user, 0 shared, 1 stream (0 system already registered)","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T17:04:15.324+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (3.64ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.324+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.324+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.324+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.324+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.36ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.325+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 161.70ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.325+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.326+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.326+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=16, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.326+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.326+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.327+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.328+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:04:15.331+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T17:04:15.331+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:04:15.334+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T17:04:15.338+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:04:15.342+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T17:04:15.346+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:04:15.350+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:04:15.353+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:04:15.356+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:04:15.362+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:04:15.365+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:04:15.368+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:04:15.371+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:04:15.373+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:04:15.377+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:04:15.381+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:04:15.384+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:04:15.387+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:04:15.389+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 21631c28280b4a9c845f39fc2aa7d709 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:04:35.135+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=21631c28280b4a9c845f39fc2aa7d709, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:04:35.137+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 21631c28280b4a9c845f39fc2aa7d709 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:04:35.138+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-7187815513197e41, sql='SELECT * FROM select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:04:35.141+02:00"}
{"level":"ERROR","line":146,"message":"Failed to register subscription sub-7187815513197e41: Invalid SQL: Query must use namespace.table format (sql: 'SELECT * FROM select * from chat.messages')","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:04:35.141+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:06:38.333+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 21631c28280b4a9c845f39fc2aa7d709","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:06:38.333+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 799feb1ec1db4d7d975f8e3e004b4d3c (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.862+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=799feb1ec1db4d7d975f8e3e004b4d3c, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.863+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 799feb1ec1db4d7d975f8e3e004b4d3c as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.864+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.866+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 799feb1ec1db4d7d975f8e3e004b4d3c on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.866+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.867+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 234 rows (has_more: false, last_seq: Some(SeqId(256792495149711361)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.881+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:06:40.882+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:06:47.110+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:06:47.111+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:06:52.882+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:06:52.882+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:00.992+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:00.993+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:01.484+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:01.485+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:01.721+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:01.721+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:01.885+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:01.886+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:02.055+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:02.055+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:02.209+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:02.210+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:02.367+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:02.367+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 799feb1ec1db4d7d975f8e3e004b4d3c","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:06.978+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:06.978+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:10.301+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 799feb1ec1db4d7d975f8e3e004b4d3c on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:10.302+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:10.302+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 252 rows (has_more: false, last_seq: Some(SeqId(256798872794464257)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:10.315+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:10.315+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 799feb1ec1db4d7d975f8e3e004b4d3c","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:11.556+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:11.557+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:13.451+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 799feb1ec1db4d7d975f8e3e004b4d3c","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:07:13.452+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 51664b390f55454ab9fda5c154496954 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.944+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=51664b390f55454ab9fda5c154496954, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.945+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 51664b390f55454ab9fda5c154496954 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.946+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.947+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 51664b390f55454ab9fda5c154496954 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.948+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.948+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 252 rows (has_more: false, last_seq: Some(SeqId(256798872794464257)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.960+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:07:15.960+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:07:18.321+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:07:18.321+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:07:25.123+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:07:25.123+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:41.001+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:41.001+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:41.627+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:41.627+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.016+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.017+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.366+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.367+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.620+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.621+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.808+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.808+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.966+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:42.967+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.145+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.146+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.318+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.319+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.482+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.483+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.657+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.658+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.822+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:43.822+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.002+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.002+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.181+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.182+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.352+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.353+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.533+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.534+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.863+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:44.863+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.084+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.084+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.301+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.302+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.531+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.532+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.782+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.782+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.996+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:45.996+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.215+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.215+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.470+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.470+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.718+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.718+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.957+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:46.958+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:47.436+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:47.436+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:49.586+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:49.586+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:49.891+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:49.892+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.116+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.117+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.328+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.328+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.541+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.542+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.721+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.721+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.931+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:50.932+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.225+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.226+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.442+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.442+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.663+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.664+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.871+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:51.871+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.080+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.080+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.297+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.297+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.507+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.507+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.701+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:52.702+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.073+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.074+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.349+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.350+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.579+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.580+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.921+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:53.921+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:54.202+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:54.203+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:54.451+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:54.451+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:55.239+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:55.240+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:55.459+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:55.460+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:55.667+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:07:55.667+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 51664b390f55454ab9fda5c154496954","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:04.341+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:04.341+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:08.490+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 51664b390f55454ab9fda5c154496954 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:08.491+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:08.492+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 358 rows (has_more: false, last_seq: Some(SeqId(256799096355061761)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:08.507+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:08.507+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 51664b390f55454ab9fda5c154496954","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:09.802+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:09.803+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:10.969+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 51664b390f55454ab9fda5c154496954","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:08:10.969+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 8cf9b742492c47f791ef82f209faf982 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.507+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=8cf9b742492c47f791ef82f209faf982, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.509+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 8cf9b742492c47f791ef82f209faf982 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.509+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.510+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 8cf9b742492c47f791ef82f209faf982 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.510+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.511+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 358 rows (has_more: false, last_seq: Some(SeqId(256799096355061761)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.526+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:13.526+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:16.466+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:16.466+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:17.524+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:17.525+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:18.094+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:18.094+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:18.452+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:18.452+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:18.769+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:18.769+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.067+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.067+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.288+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.289+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.503+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.503+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.792+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:19.793+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:20.012+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:20.013+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:20.260+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:20.260+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:29.024+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:29.024+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:37.063+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:37.063+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:37.705+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:37.705+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.148+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.149+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.473+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.474+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.707+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.707+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.869+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:38.870+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.033+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.033+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.200+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.200+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.349+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.349+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.490+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.490+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.640+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.640+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.777+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.778+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.942+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:08:39.942+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:11:50.562+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 8cf9b742492c47f791ef82f209faf982","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:11:50.562+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 446ed4a158ca451da459270c058e1c9e (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.457+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=446ed4a158ca451da459270c058e1c9e, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.458+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 446ed4a158ca451da459270c058e1c9e as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.459+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.461+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 446ed4a158ca451da459270c058e1c9e on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.462+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.462+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 408 rows (has_more: false, last_seq: Some(SeqId(256799282053677057)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.479+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:11:53.479+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:01.125+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:01.126+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:06.436+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:06.436+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:06.918+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:06.919+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:07.355+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:07.355+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:07.762+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:07.762+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:08.142+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:08.143+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:08.541+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:08.542+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:08.987+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:08.988+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:09.292+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:09.293+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:09.581+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:09.582+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:10.018+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:10.018+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:10.245+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:10.246+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:10.563+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:10.564+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.053+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.053+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.316+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.317+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.527+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.527+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.887+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:11.888+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 446ed4a158ca451da459270c058e1c9e","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:12:14.591+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:12:14.592+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:12:18.363+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 446ed4a158ca451da459270c058e1c9e on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:12:18.364+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:12:18.365+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 442 rows (has_more: false, last_seq: Some(SeqId(256800171015438337)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:12:18.383+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:12:18.383+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:22.278+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:22.278+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:23.393+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:23.394+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:24.023+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:12:24.024+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 446ed4a158ca451da459270c058e1c9e","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:13:49.167+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:13:49.167+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:13:50.103+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:14:37.472+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection 446ed4a158ca451da459270c058e1c9e on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:14:37.473+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:14:37.473+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 452 rows (has_more: false, last_seq: Some(SeqId(256800747426054145)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:14:37.497+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:14:37.498+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:39.694+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:39.694+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:40.387+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:40.387+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:40.881+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:40.882+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:41.300+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:41.301+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:41.735+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:41.736+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:42.348+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:42.349+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:42.866+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:42.866+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:45.106+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:45.106+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:47.468+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:14:47.468+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:09.556+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:09.557+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:10.177+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:10.178+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:10.776+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:10.776+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:11.279+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:11.279+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:11.601+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:11.601+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:11.894+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:11.895+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.196+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.196+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.604+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.605+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.783+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.784+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.954+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:12.954+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.108+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.108+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.293+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.294+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.470+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.471+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.651+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:13.651+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-14686c1baaf36729 for connection 446ed4a158ca451da459270c058e1c9e","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:15:16.451+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:15:16.452+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:15:18.955+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection 446ed4a158ca451da459270c058e1c9e on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:15:18.955+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:15:18.956+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 498 rows (has_more: false, last_seq: Some(SeqId(256800933388910593)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:15:18.979+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:15:18.979+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:21.789+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:21.789+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:22.426+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:15:22.427+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:18:15.345+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 446ed4a158ca451da459270c058e1c9e","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:18:15.345+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 53aafe461121492a83788d7aa7eff207 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.252+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=53aafe461121492a83788d7aa7eff207, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.253+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 53aafe461121492a83788d7aa7eff207 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.254+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-3a25cf17b81764ce, sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20);', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.257+02:00"}
{"level":"WARN","line":175,"message":"Failed to parse WHERE clause for filter: Invalid operation: Failed to parse WHERE clause: sql parser error: Expected: end of statement, found: OPTIONS at Line: 1, Column: 43","target":"kalamdb_core::live::manager::core","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.257+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-3a25cf17b81764ce for connection 53aafe461121492a83788d7aa7eff207 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.258+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.258+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE _deleted = false AND conversation_id = 1 OPTIONS (last_rows=20); ORDER BY _seq DESC LIMIT 101' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 76\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.259+02:00"}
{"level":"ERROR","line":146,"message":"Failed to register subscription sub-3a25cf17b81764ce: Execution error: SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 76\") (sql: 'SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20);')","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:18:25.259+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 89cada45acd94b7b81c06e2337d4afd8 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.008+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=89cada45acd94b7b81c06e2337d4afd8, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.011+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 89cada45acd94b7b81c06e2337d4afd8 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.013+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-3a25cf17b81764ce, sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20);', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.015+02:00"}
{"level":"WARN","line":175,"message":"Failed to parse WHERE clause for filter: Invalid operation: Failed to parse WHERE clause: sql parser error: Expected: end of statement, found: OPTIONS at Line: 1, Column: 43","target":"kalamdb_core::live::manager::core","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.016+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-3a25cf17b81764ce for connection 89cada45acd94b7b81c06e2337d4afd8 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.017+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.018+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE _deleted = false AND conversation_id = 1 OPTIONS (last_rows=20); ORDER BY _seq DESC LIMIT 101' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 76\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.019+02:00"}
{"level":"ERROR","line":146,"message":"Failed to register subscription sub-3a25cf17b81764ce: Execution error: SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 76\") (sql: 'SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20);')","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:18:30.019+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: d7b7eb6eec6644fcbc65dff6e8314045 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.250+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=d7b7eb6eec6644fcbc65dff6e8314045, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.252+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: d7b7eb6eec6644fcbc65dff6e8314045 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.253+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.254+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.255+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=20, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.256+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 20 rows (has_more: true, last_seq: Some(SeqId(256800970193928193)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.277+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:19:43.277+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:19:52.853+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:19:52.854+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:19:53.771+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:19:53.772+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:19:54.454+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:19:54.454+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:05.875+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:05.875+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:06.560+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:06.561+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:07.085+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:07.085+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:07.730+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:07.730+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.120+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.120+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.417+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.417+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.640+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.641+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.806+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:08.806+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.163+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.164+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.345+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.345+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.660+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.660+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.853+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:09.853+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:10.251+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:10.252+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-14686c1baaf36729 for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:20:24.993+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:20:24.993+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:25.626+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:26.943+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:27.633+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:28.164+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:20:30.183+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:20:30.184+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=20, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:20:30.185+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 20 rows (has_more: true, last_seq: Some(SeqId(256802177419476993)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:20:30.214+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:20:30.215+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:34.762+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:34.762+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:36.171+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:36.172+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:56.394+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:56.395+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:57.049+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:20:57.050+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-14686c1baaf36729 for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:17.354+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:17.355+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:20.957+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:20.958+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:20.958+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 5 rows (has_more: false, last_seq: Some(SeqId(256802422211641345)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:20.965+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:20.966+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:23.963+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:24.455+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:24.794+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:24.971+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:25.379+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:25.632+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:25.834+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:26.217+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:26.450+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:26.677+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:27.022+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:27.275+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:27.469+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:27.840+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:28.340+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:28.745+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:32.840+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:33.433+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:33.747+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:34.084+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:34.340+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:36.187+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:36.374+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:36.593+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:21:36.883+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:38.482+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:38.483+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:39.881+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:39.882+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:39.883+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 20 rows (has_more: false, last_seq: Some(SeqId(256802540780421121)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:39.890+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:21:39.891+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:07.360+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:07.360+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1 OPTIONS (last_rows=50)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 60\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:07.910+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:10.492+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:10.493+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:10.493+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:10.499+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:10.500+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:13.713+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:13.949+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:14.300+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:14.450+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:14.618+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:14.746+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:14.888+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:22:15.055+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:16.449+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:16.449+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:17.954+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:17.955+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:17.956+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 8 rows (has_more: false, last_seq: Some(SeqId(256802700885393409)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:17.962+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:22:17.962+02:00"}
{"level":"INFO","line":38,"message":"[SE-ba85778700a0] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:23:16.621+02:00"}
{"level":"INFO","line":38,"message":"[SE-ba85778700a0] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:23:16.623+02:00"}
{"level":"INFO","line":177,"message":"[SE-ba85778700a0] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:23:16.623+02:00"}
{"level":"INFO","line":177,"message":"[SE-ba85778700a0] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:23:16.623+02:00"}
{"level":"INFO","line":177,"message":"[SE-ba85778700a0] Cutoff time: 1765293766623ms (records with timestamp < 1765293766623 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:23:16.623+02:00"}
{"level":"INFO","line":177,"message":"[SE-ba85778700a0] Found 8 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:23:16.624+02:00"}
{"level":"INFO","line":177,"message":"[SE-ba85778700a0] Stream eviction completed - 8 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:23:16.624+02:00"}
{"level":"INFO","line":38,"message":"[SE-ba85778700a0] Job completed: Evicted 8 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:23:16.624+02:00"}
{"level":"INFO","line":97,"message":"Failed login attempt 1/5 for username=root","target":"kalamdb_auth::login_tracker","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:23:37.420+02:00"}
{"level":"INFO","line":97,"message":"Failed login attempt 2/5 for username=root","target":"kalamdb_auth::login_tracker","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:23:38.098+02:00"}
{"level":"INFO","line":120,"message":"Successful login, reset failed attempts: username=root","target":"kalamdb_auth::login_tracker","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:23:58.995+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: cd1f6e1acce7400e87ee97fa4e91ccf8 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:12.676+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=cd1f6e1acce7400e87ee97fa4e91ccf8, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:12.677+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: cd1f6e1acce7400e87ee97fa4e91ccf8 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:13.370+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765293850654110800, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:13.370+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765293850654110800 for connection cd1f6e1acce7400e87ee97fa4e91ccf8 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:13.371+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:13.371+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:13.377+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub_1765293850654110800, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:13.377+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:28.798+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:28.978+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:29.316+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:31.835+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:32.020+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:32.224+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:32.397+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:32.554+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:32.740+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:32.914+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:33.079+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:33.213+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:33.379+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:33.640+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:33.813+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:33.987+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:34.143+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:34.286+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:24:34.452+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe root-cd1f6e1acce7400e87ee97fa4e91ccf8-sub_1765293850654110800: Not found: Subscription not found: root-cd1f6e1acce7400e87ee97fa4e91ccf8-sub_1765293850654110800","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:35.305+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: root-cd1f6e1acce7400e87ee97fa4e91ccf8-sub_1765293850654110800","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:35.305+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: None","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:35.306+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: cd1f6e1acce7400e87ee97fa4e91ccf8","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:24:35.306+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: f118b648e5844e609089e9056c59160b (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.240+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=f118b648e5844e609089e9056c59160b, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.241+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: f118b648e5844e609089e9056c59160b as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.922+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765293876200624800, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.922+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765293876200624800 for connection f118b648e5844e609089e9056c59160b on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.923+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.923+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 19 rows (has_more: false, last_seq: Some(SeqId(256803285562982400)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.930+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub_1765293876200624800, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:24:38.930+02:00"}
{"level":"INFO","line":38,"message":"[SE-9d2303d115d0] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:25:16.753+02:00"}
{"level":"INFO","line":38,"message":"[SE-9d2303d115d0] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:25:16.753+02:00"}
{"level":"INFO","line":177,"message":"[SE-9d2303d115d0] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:25:16.754+02:00"}
{"level":"INFO","line":177,"message":"[SE-9d2303d115d0] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:25:16.754+02:00"}
{"level":"INFO","line":177,"message":"[SE-9d2303d115d0] Cutoff time: 1765293886754ms (records with timestamp < 1765293886754 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:25:16.754+02:00"}
{"level":"INFO","line":177,"message":"[SE-9d2303d115d0] Found 19 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:25:16.755+02:00"}
{"level":"INFO","line":177,"message":"[SE-9d2303d115d0] Stream eviction completed - 19 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:25:16.755+02:00"}
{"level":"INFO","line":38,"message":"[SE-9d2303d115d0] Job completed: Evicted 19 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:25:16.755+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:41.776+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:42.126+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:42.493+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:42.690+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:42.906+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:45.322+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:45.659+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:45.831+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:46.138+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:46.304+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:46.480+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:46.618+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:46.821+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:46.995+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:47.159+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:47.317+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:47.804+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:48.479+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:48.820+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:49.109+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:49.327+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:49.619+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:49.859+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:50.069+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:50.258+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:50.429+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:50.593+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:50.820+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:51.106+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:51.292+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:51.460+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:51.619+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:51.802+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:52.013+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:52.222+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:52.428+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:52.605+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:52.906+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:53.077+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:53.437+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:53.605+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:53.759+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:53.956+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:54.201+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:54.413+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:54.592+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:54.766+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:54.915+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:55.103+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:55.261+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:55.417+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:55.583+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:55.682+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:56.026+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:56.197+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:56.354+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:25:56.497+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:05.185+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:05.618+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:05.829+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:06.002+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:06.190+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:06.503+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:06.669+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:06.850+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:07.006+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:07.201+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:08.384+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:08.384+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:09.533+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:09.534+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:09.534+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 50 rows (has_more: true, last_seq: Some(SeqId(256803674576289792)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:09.543+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:09.543+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:11.086+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:11.326+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:11.566+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:11.769+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:12.083+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:12.264+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:12.610+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:12.789+02:00"}
{"level":"INFO","line":38,"message":"[SE-52b6c1b7d2e5] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:26:16.834+02:00"}
{"level":"INFO","line":38,"message":"[SE-52b6c1b7d2e5] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:26:16.835+02:00"}
{"level":"INFO","line":177,"message":"[SE-52b6c1b7d2e5] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:26:16.835+02:00"}
{"level":"INFO","line":177,"message":"[SE-52b6c1b7d2e5] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:26:16.835+02:00"}
{"level":"INFO","line":177,"message":"[SE-52b6c1b7d2e5] Cutoff time: 1765293946835ms (records with timestamp < 1765293946835 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:26:16.836+02:00"}
{"level":"INFO","line":177,"message":"[SE-52b6c1b7d2e5] Found 9 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:26:16.837+02:00"}
{"level":"INFO","line":177,"message":"[SE-52b6c1b7d2e5] Stream eviction completed - 9 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:26:16.838+02:00"}
{"level":"INFO","line":38,"message":"[SE-52b6c1b7d2e5] Job completed: Evicted 9 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:26:16.838+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:17.784+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:18.721+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:19.862+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:20.116+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:20.341+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:20.567+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:21.017+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:21.585+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:22.210+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:22.729+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:23.087+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:23.334+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:23.724+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:24.130+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:32.323+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:32.324+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:33.734+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:33.734+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:33.735+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 32 rows (has_more: false, last_seq: Some(SeqId(256803745585856512)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:33.742+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:26:33.742+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:35.568+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:26:47.045+02:00"}
{"level":"INFO","line":38,"message":"[SE-293b9702f941] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:27:16.933+02:00"}
{"level":"INFO","line":38,"message":"[SE-293b9702f941] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:27:16.934+02:00"}
{"level":"INFO","line":177,"message":"[SE-293b9702f941] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:27:16.935+02:00"}
{"level":"INFO","line":177,"message":"[SE-293b9702f941] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:27:16.935+02:00"}
{"level":"INFO","line":177,"message":"[SE-293b9702f941] Cutoff time: 1765294006935ms (records with timestamp < 1765294006935 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:27:16.935+02:00"}
{"level":"INFO","line":177,"message":"[SE-293b9702f941] Found 15 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:27:16.936+02:00"}
{"level":"INFO","line":177,"message":"[SE-293b9702f941] Stream eviction completed - 15 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:27:16.936+02:00"}
{"level":"INFO","line":38,"message":"[SE-293b9702f941] Job completed: Evicted 15 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:27:16.937+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:07.629+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:07.629+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1 OPTIONS (last_rows=50)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 60\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:08.358+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:10.880+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:10.881+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:10.881+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:10.887+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:10.888+02:00"}
{"level":"INFO","line":38,"message":"[SE-8c48d1c444e7] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:28:16.974+02:00"}
{"level":"INFO","line":38,"message":"[SE-8c48d1c444e7] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:28:16.975+02:00"}
{"level":"INFO","line":177,"message":"[SE-8c48d1c444e7] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:28:16.975+02:00"}
{"level":"INFO","line":177,"message":"[SE-8c48d1c444e7] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:28:16.975+02:00"}
{"level":"INFO","line":177,"message":"[SE-8c48d1c444e7] Cutoff time: 1765294066975ms (records with timestamp < 1765294066975 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:28:16.975+02:00"}
{"level":"INFO","line":177,"message":"[SE-8c48d1c444e7] Found 1 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:28:16.976+02:00"}
{"level":"INFO","line":177,"message":"[SE-8c48d1c444e7] Stream eviction completed - 1 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:28:16.976+02:00"}
{"level":"INFO","line":38,"message":"[SE-8c48d1c444e7] Job completed: Evicted 1 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:28:16.976+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:25.875+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:26.144+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:26.594+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:26.993+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:27.406+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:27.584+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:27.962+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:39.708+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:39.708+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:41.202+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection d7b7eb6eec6644fcbc65dff6e8314045 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:41.202+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:41.203+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 7 rows (has_more: false, last_seq: Some(SeqId(256804264970715137)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:41.210+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:28:41.210+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:28:43.044+02:00"}
{"level":"INFO","line":38,"message":"[SE-6181bc063dd3] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:29:17.008+02:00"}
{"level":"INFO","line":38,"message":"[SE-6181bc063dd3] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:29:17.010+02:00"}
{"level":"INFO","line":177,"message":"[SE-6181bc063dd3] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:29:17.011+02:00"}
{"level":"INFO","line":177,"message":"[SE-6181bc063dd3] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:29:17.011+02:00"}
{"level":"INFO","line":177,"message":"[SE-6181bc063dd3] Cutoff time: 1765294127011ms (records with timestamp < 1765294127011 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:29:17.011+02:00"}
{"level":"INFO","line":177,"message":"[SE-6181bc063dd3] Found 8 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:29:17.012+02:00"}
{"level":"INFO","line":177,"message":"[SE-6181bc063dd3] Stream eviction completed - 8 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:29:17.013+02:00"}
{"level":"INFO","line":38,"message":"[SE-6181bc063dd3] Job completed: Evicted 8 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:29:17.014+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:22.453+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:23.053+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:23.416+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:23.698+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:24.048+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:24.222+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:24.399+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:24.805+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:24.985+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:25.382+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:25.547+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:25.760+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:25.937+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:26.141+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:26.380+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:26.657+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:26.867+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:27.116+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:27.508+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:27.797+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:28.017+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:28.216+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:28.406+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:28.609+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:28.803+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:29.043+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:29.313+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:31.088+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:31.355+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:31.681+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:31.904+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:32.116+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:32.514+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:32.785+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:33.151+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:29:33.377+02:00"}
{"level":"INFO","line":38,"message":"[SE-227bf81851f4] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:30:17.015+02:00"}
{"level":"INFO","line":38,"message":"[SE-227bf81851f4] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:30:17.016+02:00"}
{"level":"INFO","line":177,"message":"[SE-227bf81851f4] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:30:17.016+02:00"}
{"level":"INFO","line":177,"message":"[SE-227bf81851f4] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:30:17.016+02:00"}
{"level":"INFO","line":177,"message":"[SE-227bf81851f4] Cutoff time: 1765294187016ms (records with timestamp < 1765294187016 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:30:17.017+02:00"}
{"level":"INFO","line":177,"message":"[SE-227bf81851f4] Found 36 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:30:17.018+02:00"}
{"level":"INFO","line":177,"message":"[SE-227bf81851f4] Stream eviction completed - 36 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:30:17.018+02:00"}
{"level":"INFO","line":38,"message":"[SE-227bf81851f4] Job completed: Evicted 36 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:30:17.019+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:40.061+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:40.062+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:40.521+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:40.521+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:40.858+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:40.858+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:41.444+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:41.444+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:44.366+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:45.359+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:45.988+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:46.973+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:47.370+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM chat.messages WHERE conversation_id = 1 OPTIONS (last_rows=20)' | user='root' | role='System' | error='SQL error: ParserError(\"Expected: end of statement, found: OPTIONS at Line: 1, Column: 55\")'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:30:57.185+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:31:15.084+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:31:15.421+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:31:15.669+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:31:15.845+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe root-f118b648e5844e609089e9056c59160b-sub_1765293876200624800: Not found: Subscription not found: root-f118b648e5844e609089e9056c59160b-sub_1765293876200624800","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:32:04.242+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: root-f118b648e5844e609089e9056c59160b-sub_1765293876200624800","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:32:04.243+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: None","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:32:04.243+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: f118b648e5844e609089e9056c59160b","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:32:04.243+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 9425e46acfb04ec98b289697cae552fe (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:07.415+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=9425e46acfb04ec98b289697cae552fe, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:07.416+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 9425e46acfb04ec98b289697cae552fe as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:08.085+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765294325395832000, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:08.086+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765294325395832000 for connection 9425e46acfb04ec98b289697cae552fe on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:08.087+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:08.087+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:08.093+02:00"}
{"level":"INFO","line":87,"message":"Subscription registered: id=sub_1765294325395832000, user_id=root","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:08.093+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:32:10.886+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:10.886+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:32:10.886+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 53aafe461121492a83788d7aa7eff207","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:32:10.887+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: d7b7eb6eec6644fcbc65dff6e8314045","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:32:10.887+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 89cada45acd94b7b81c06e2337d4afd8","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:32:10.887+02:00"}
{"level":"INFO","line":38,"message":"[SE-949303ec6b0a] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:32:17.129+02:00"}
{"level":"INFO","line":38,"message":"[SE-949303ec6b0a] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:32:17.133+02:00"}
{"level":"INFO","line":177,"message":"[SE-949303ec6b0a] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:32:17.134+02:00"}
{"level":"INFO","line":177,"message":"[SE-949303ec6b0a] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:32:17.135+02:00"}
{"level":"INFO","line":177,"message":"[SE-949303ec6b0a] Cutoff time: 1765294307135ms (records with timestamp < 1765294307135 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:32:17.135+02:00"}
{"level":"INFO","line":177,"message":"[SE-949303ec6b0a] Found 4 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:32:17.136+02:00"}
{"level":"INFO","line":177,"message":"[SE-949303ec6b0a] Stream eviction completed - 4 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:32:17.137+02:00"}
{"level":"INFO","line":38,"message":"[SE-949303ec6b0a] Job completed: Evicted 4 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:32:17.138+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:33:40.247+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:33:40.555+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 1 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:33:40.556+02:00"}
{"level":"WARN","line":546,"message":"Force closing 1 connections after timeout","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:33:45.636+02:00"}
{"level":"INFO","line":556,"message":"WebSocket shutdown complete","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:33:45.637+02:00"}
{"level":"INFO","line":408,"message":"Waiting up to 300s for active jobs to complete...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:33:45.637+02:00"}
{"level":"INFO","line":80,"message":"Initiating job manager shutdown","target":"kalamdb_core::jobs::jobs_manager::types","thread":"main","timestamp":"2025-12-09T17:33:45.637+02:00"}
{"level":"INFO","line":429,"message":"All jobs completed successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:33:45.638+02:00"}
{"level":"INFO","line":447,"message":"Performing cleanup to release file descriptors...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:33:45.638+02:00"}
{"level":"INFO","line":451,"message":"Graceful shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:33:45.638+02:00"}
{"level":"INFO","line":455,"message":"Server shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:33:45.639+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.442+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.444+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.444+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     eece582                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.445+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.445+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 15:34:02 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.446+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.446+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:34:15.447+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (159.92ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.607+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:34:15.608+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:34:15.609+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:34:15.609+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=16, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T17:34:15.609+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:34:15.613+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (6.30ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.614+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 1 entries (0.63ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.614+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.48ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.615+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.615+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.616+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.74ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.616+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.617+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:34:15.618+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:34:15.618+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:34:15.619+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:34:15.619+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:34:15.619+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:34:15.619+02:00"}
{"level":"INFO","line":351,"message":"Loaded 3 tables: 2 user, 0 shared, 1 stream (0 system already registered)","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T17:34:15.620+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (3.36ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.620+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.620+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.620+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.620+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.28ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.621+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 174.17ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.621+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.621+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.621+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=16, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.622+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.622+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.623+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.623+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:34:15.626+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T17:34:15.626+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:34:15.629+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T17:34:15.632+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:34:15.636+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T17:34:15.638+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:34:15.642+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:34:15.645+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:34:15.648+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:34:15.652+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:34:15.655+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:34:15.658+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:34:15.661+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:34:15.664+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:34:15.667+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:34:15.669+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:34:15.672+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:34:15.675+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:34:15.677+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 2db9a2115f2e435799ea1d8188b2d9c9 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.810+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=2db9a2115f2e435799ea1d8188b2d9c9, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.813+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 2db9a2115f2e435799ea1d8188b2d9c9 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.814+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.817+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.818+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection 2db9a2115f2e435799ea1d8188b2d9c9 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.819+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.819+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.827+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.827+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 0 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.828+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.828+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-26aa9c3af68de9ef with 0 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:02.828+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:37:12.710+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:37:20.186+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:37:20.508+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:37:20.688+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.typing_events', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:37:20.867+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection 2db9a2115f2e435799ea1d8188b2d9c9","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:23.300+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:23.300+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-26aa9c3af68de9ef, sql='SELECT * FROM chat.typing_events WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.315+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.316+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-26aa9c3af68de9ef for connection 2db9a2115f2e435799ea1d8188b2d9c9 on chat:typing_events","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.317+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:typing_events, type=Stream, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.317+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:typing_events, returned 5 rows (has_more: false, last_seq: Some(SeqId(256806500140482561)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.324+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-26aa9c3af68de9ef, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.325+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 5 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.325+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.325+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-26aa9c3af68de9ef with 5 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:24.326+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-26aa9c3af68de9ef for connection 2db9a2115f2e435799ea1d8188b2d9c9","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:44.309+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-26aa9c3af68de9ef","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:37:44.309+02:00"}
{"level":"INFO","line":38,"message":"[SE-3ad2311cc4e5] Job created: type=StreamEviction","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:38:15.828+02:00"}
{"level":"INFO","line":38,"message":"[SE-3ad2311cc4e5] Job started","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:38:15.829+02:00"}
{"level":"INFO","line":177,"message":"[SE-3ad2311cc4e5] Starting stream eviction operation","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:38:15.829+02:00"}
{"level":"INFO","line":177,"message":"[SE-3ad2311cc4e5] Evicting expired records from stream chat:typing_events (ttl: 30s, batch: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:38:15.829+02:00"}
{"level":"INFO","line":177,"message":"[SE-3ad2311cc4e5] Cutoff time: 1765294665830ms (records with timestamp < 1765294665830 are expired)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:38:15.830+02:00"}
{"level":"INFO","line":177,"message":"[SE-3ad2311cc4e5] Found 5 expired rows ready for eviction (batch limit: 10000)","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:38:15.830+02:00"}
{"level":"INFO","line":177,"message":"[SE-3ad2311cc4e5] Stream eviction completed - 5 rows evicted from chat:typing_events","target":"kalamdb_core::jobs::executors::executor_trait","thread":"main","timestamp":"2025-12-09T17:38:15.831+02:00"}
{"level":"INFO","line":38,"message":"[SE-3ad2311cc4e5] Job completed: Evicted 5 expired records from chat:typing_events (ttl: 30s)","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:38:15.831+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:24.035+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:24.354+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 1 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:38:24.391+02:00"}
{"level":"WARN","line":546,"message":"Force closing 1 connections after timeout","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:38:29.490+02:00"}
{"level":"INFO","line":556,"message":"WebSocket shutdown complete","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:38:29.492+02:00"}
{"level":"INFO","line":408,"message":"Waiting up to 300s for active jobs to complete...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:29.493+02:00"}
{"level":"INFO","line":80,"message":"Initiating job manager shutdown","target":"kalamdb_core::jobs::jobs_manager::types","thread":"main","timestamp":"2025-12-09T17:38:29.494+02:00"}
{"level":"INFO","line":429,"message":"All jobs completed successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:29.495+02:00"}
{"level":"INFO","line":447,"message":"Performing cleanup to release file descriptors...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:29.496+02:00"}
{"level":"INFO","line":451,"message":"Graceful shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:29.497+02:00"}
{"level":"INFO","line":455,"message":"Server shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:29.497+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.139+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.140+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.141+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     eece582                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.141+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.141+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 15:38:34 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.141+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.142+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:38:51.142+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (197.27ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.340+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:38:51.341+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:38:51.341+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:38:51.341+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=16, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T17:38:51.341+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:38:51.346+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (6.18ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.346+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 1 entries (0.46ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.347+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.42ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.347+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.347+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.348+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.98ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.349+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.349+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:38:51.350+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:38:51.350+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:38:51.350+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:38:51.351+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:38:51.351+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:38:51.351+02:00"}
{"level":"INFO","line":351,"message":"Loaded 3 tables: 2 user, 0 shared, 1 stream (0 system already registered)","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T17:38:51.352+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (3.15ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.352+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.352+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.352+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.353+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.31ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.353+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 211.30ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.354+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.354+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.354+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=16, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.354+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.354+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.355+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.355+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:38:51.358+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T17:38:51.358+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:38:51.360+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T17:38:51.364+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:38:51.366+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T17:38:51.369+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:38:51.372+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:38:51.374+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:38:51.377+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:38:51.380+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:38:51.382+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:38:51.385+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:38:51.387+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:38:51.390+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:38:51.394+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:38:51.397+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:38:51.402+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:38:51.405+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:38:51.407+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: b153c50c819e438299b1004fa94b2136 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.693+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=b153c50c819e438299b1004fa94b2136, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.695+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: b153c50c819e438299b1004fa94b2136 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.697+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.700+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.700+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection b153c50c819e438299b1004fa94b2136 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.701+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.701+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 100 rows (has_more: true, last_seq: Some(SeqId(256804824834801665)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.725+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.725+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 100 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.725+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.725+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-14686c1baaf36729 with 100 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:03.726+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:39:08.054+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:39:08.054+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:39:08.489+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:39:08.489+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:39:08.699+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:39:08.700+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-14686c1baaf36729 for connection b153c50c819e438299b1004fa94b2136","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:24.735+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:24.736+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.008+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.008+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection b153c50c819e438299b1004fa94b2136 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.009+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.009+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 100 rows (has_more: true, last_seq: Some(SeqId(256806952420671489)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.030+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.030+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 100 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.030+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.031+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-14686c1baaf36729 with 100 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:27.031+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-14686c1baaf36729 for connection b153c50c819e438299b1004fa94b2136","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:36.455+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:36.456+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.888+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.888+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection b153c50c819e438299b1004fa94b2136 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.889+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.889+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256806952420671489)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.911+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.911+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.912+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.912+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-14686c1baaf36729 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:39:37.912+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 6648270eb0d14bf69bb658e80af6be10 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:58.356+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=6648270eb0d14bf69bb658e80af6be10, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:58.358+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 6648270eb0d14bf69bb658e80af6be10 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.106+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765294796331082900, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: None, last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.107+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.107+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765294796331082900 for connection 6648270eb0d14bf69bb658e80af6be10 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.108+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.108+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256806952420671489)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.129+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub_1765294796331082900, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.129+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.129+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub_1765294796331082900","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.129+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub_1765294796331082900 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.130+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=Some(SeqId(256806952420671489))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.134+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:39:59.142+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub_1765294796331082900 for connection 6648270eb0d14bf69bb658e80af6be10","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:40:22.569+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub_1765294796331082900","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:40:22.570+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: None","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:40:22.570+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 6648270eb0d14bf69bb658e80af6be10","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:40:22.571+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: ae19354807064895925d3af80c299b1c (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:25.733+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=ae19354807064895925d3af80c299b1c, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:25.734+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: ae19354807064895925d3af80c299b1c as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.403+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765294823691309700, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: None, last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.404+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.404+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765294823691309700 for connection ae19354807064895925d3af80c299b1c on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.405+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.405+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256806952420671489)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.427+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub_1765294823691309700, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.427+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.427+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub_1765294823691309700","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.427+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub_1765294823691309700 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.427+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=Some(SeqId(256806952420671489))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.431+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:40:26.440+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:31.255+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:31.255+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:32.373+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:32.373+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:32.958+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:32.958+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:33.387+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:33.388+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:33.857+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:40:33.857+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:35.012+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:35.012+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:35.618+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:35.619+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:36.063+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:36.064+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:36.498+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:36.499+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:36.896+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:36.896+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:37.330+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:37.330+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:37.631+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:37.631+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:37.846+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:37.847+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:38.058+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:38.059+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:38.221+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:38.221+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:38.802+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:42:38.802+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-14686c1baaf36729 for connection b153c50c819e438299b1004fa94b2136","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:42.801+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:42.801+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.475+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.476+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection b153c50c819e438299b1004fa94b2136 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.477+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.477+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256807833652330497)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.499+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.499+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.500+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.500+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-14686c1baaf36729 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:42:44.500+02:00"}
{"level":"ERROR","line":37,"message":"Failed to unsubscribe root-ae19354807064895925d3af80c299b1c-sub_1765294823691309700: Not found: Subscription not found: root-ae19354807064895925d3af80c299b1c-sub_1765294823691309700","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:44:58.502+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: root-ae19354807064895925d3af80c299b1c-sub_1765294823691309700","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:44:58.502+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: None","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:44:58.502+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: ae19354807064895925d3af80c299b1c","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:44:58.503+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 6a715a4bc8ce48fab61771818ef94553 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:39.336+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=6a715a4bc8ce48fab61771818ef94553, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:39.337+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 6a715a4bc8ce48fab61771818ef94553 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.006+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765295137301982600, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: None, last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.007+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.008+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765295137301982600 for connection 6a715a4bc8ce48fab61771818ef94553 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.008+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.009+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256807833652330497)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.031+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub_1765295137301982600, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.031+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.031+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub_1765295137301982600","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.031+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub_1765295137301982600 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.032+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=Some(SeqId(256807833652330497))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.037+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:45:40.045+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:45:50.749+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:45:50.750+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:49:48.012+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:49:48.321+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 2 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:49:48.321+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.261+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.261+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.261+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     eece582                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.261+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.262+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 15:49:50 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.262+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.262+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:50:07.262+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (133.13ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.396+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:50:07.397+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:50:07.397+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:50:07.397+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=16, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T17:50:07.397+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:50:07.402+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (6.38ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.402+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 1 entries (0.64ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.403+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.46ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.404+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.404+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.405+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.70ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.405+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.405+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:50:07.406+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:50:07.407+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:50:07.407+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:50:07.407+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:50:07.408+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:50:07.408+02:00"}
{"level":"INFO","line":351,"message":"Loaded 3 tables: 2 user, 0 shared, 1 stream (0 system already registered)","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T17:50:07.408+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (3.14ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.408+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.409+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.409+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.409+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.38ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.410+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 147.53ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.410+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.410+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.410+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=16, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.410+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.411+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.411+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.411+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:50:07.415+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T17:50:07.415+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:50:07.418+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T17:50:07.421+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:50:07.425+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T17:50:07.428+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:07.431+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:07.434+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:50:07.437+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:50:07.440+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:50:07.442+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:50:07.446+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:50:07.448+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:50:07.451+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:50:07.454+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:50:07.457+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:50:07.460+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:50:07.463+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:50:07.465+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 6f984c3f47284ae885ae95d773bb5e2d (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.101+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=6f984c3f47284ae885ae95d773bb5e2d, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.106+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 6f984c3f47284ae885ae95d773bb5e2d as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.108+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.112+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.113+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection 6f984c3f47284ae885ae95d773bb5e2d on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.114+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.114+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256808638740594689)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.146+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.147+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.147+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.147+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-14686c1baaf36729 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:50:17.147+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:50:21.018+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:50:21.019+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 2395ea5b577e4066af532cd261eb50b2 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.118+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=2395ea5b577e4066af532cd261eb50b2, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.119+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 2395ea5b577e4066af532cd261eb50b2 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.785+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765295428089940700, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: None, last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.786+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.786+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765295428089940700 for connection 2395ea5b577e4066af532cd261eb50b2 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.787+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.787+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256809772326748161)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.807+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub_1765295428089940700, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.808+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.808+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub_1765295428089940700","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.808+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub_1765295428089940700 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.809+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=Some(SeqId(256809772326748161))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.813+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:50:30.822+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:50:34.764+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:50:34.764+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:33.979+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:34.290+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 2 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:52:34.291+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.256+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.257+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.257+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     eece582                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.258+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.258+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 15:52:37 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.259+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.259+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T17:52:51.259+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (131.64ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.392+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:52:51.393+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:52:51.393+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T17:52:51.394+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=16, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T17:52:51.394+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T17:52:51.400+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (8.37ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.400+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 1 entries (0.49ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.401+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.43ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.402+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.402+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.403+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.97ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.403+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.404+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:52:51.405+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:52:51.405+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:52:51.406+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:52:51.406+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:52:51.407+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T17:52:51.407+02:00"}
{"level":"INFO","line":351,"message":"Loaded 3 tables: 2 user, 0 shared, 1 stream (0 system already registered)","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T17:52:51.407+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (3.91ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.408+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.408+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.408+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.408+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.28ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.409+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 149.07ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.409+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.409+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.409+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=16, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.409+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.409+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.410+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.411+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T17:52:51.414+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T17:52:51.414+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T17:52:51.417+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T17:52:51.421+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T17:52:51.424+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T17:52:51.427+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T17:52:51.430+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:52:51.433+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T17:52:51.436+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:52:51.439+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:52:51.443+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T17:52:51.445+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:10","timestamp":"2025-12-09T17:52:51.448+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:11","timestamp":"2025-12-09T17:52:51.452+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:12","timestamp":"2025-12-09T17:52:51.455+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:13","timestamp":"2025-12-09T17:52:51.457+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:14","timestamp":"2025-12-09T17:52:51.460+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:15","timestamp":"2025-12-09T17:52:51.463+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T17:52:51.465+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 596582603f474df0aa7a66c981593c69 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:01.985+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=596582603f474df0aa7a66c981593c69, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:01.987+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 596582603f474df0aa7a66c981593c69 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:01.989+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:01.990+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:01.991+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection 596582603f474df0aa7a66c981593c69 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:01.992+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:01.992+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256809829981650945)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:02.026+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:02.027+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:02.027+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:02.027+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-14686c1baaf36729 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T17:53:02.028+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 7af23feebf41423b963d93b449ba1199 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:06.616+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=7af23feebf41423b963d93b449ba1199, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:06.617+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 7af23feebf41423b963d93b449ba1199 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.319+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765295584583681800, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: None, last_rows: Some(50) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.320+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=50 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.321+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765295584583681800 for connection 7af23feebf41423b963d93b449ba1199 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.321+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=50, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.322+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 50 rows (has_more: true, last_seq: Some(SeqId(256809829981650945)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.342+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub_1765295584583681800, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.342+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 50 rows, has_more=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.343+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub_1765295584583681800","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.343+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub_1765295584583681800 with 50 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.343+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=Some(SeqId(256809829981650945))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.348+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T17:53:07.357+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T17:53:14.425+02:00"}
