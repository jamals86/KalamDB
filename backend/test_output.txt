warning: unused import: `futures_util::StreamExt`
  --> backend/tests/scenarios/scenario_09_ddl_while_active.rs:12:5
   |
12 | use futures_util::StreamExt;
   |     ^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `futures_util::StreamExt`
  --> backend/tests/scenarios/scenario_08_burst.rs:12:5
   |
12 | use futures_util::StreamExt;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `futures_util::StreamExt`
  --> backend/tests/scenarios/scenario_02_offline_sync.rs:19:5
   |
19 | use futures_util::StreamExt;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `futures_util::StreamExt`
  --> backend/tests/scenarios/scenario_03_shopping_cart.rs:21:5
   |
21 | use futures_util::StreamExt;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `futures_util::StreamExt`
  --> backend/tests/scenarios/scenario_04_iot_telemetry.rs:17:5
   |
17 | use futures_util::StreamExt;
   |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: variable `batch_count` is assigned to, but never used
   --> backend/tests/scenarios/scenario_02_offline_sync.rs:120:21
    |
120 |                 let mut batch_count = 0;
    |                     ^^^^^^^^^^^^^^^
    |
    = note: consider using `_batch_count` instead
    = note: `#[warn(unused_variables)]` (part of `#[warn(unused)]`) on by default

warning: value assigned to `batch_count` is never read
   --> backend/tests/scenarios/scenario_02_offline_sync.rs:137:29
    |
137 | ...                   batch_count += 1;
    |                       ^^^^^^^^^^^^^^^^
    |
    = help: maybe it is overwritten before being read?
    = note: `#[warn(unused_assignments)]` (part of `#[warn(unused)]`) on by default

warning: struct `ClusterTestServer` is never constructed
 --> backend/tests/scenarios/../common/testserver/cluster.rs:8:12
  |
8 | pub struct ClusterTestServer {
  |            ^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: multiple associated items are never used
   --> backend/tests/scenarios/../common/testserver/cluster.rs:17:12
    |
 15 | impl ClusterTestServer {
    | ---------------------- associated items in this implementation
 16 |     /// Get a reference to a node in the cluster (0, 1, or 2)
 17 |     pub fn get_node(&self, index: usize) -> Result<&HttpTestServer> {
    |            ^^^^^^^^
...
 24 |     pub async fn is_node_online(&self, index: usize) -> Result<bool> {
    |                  ^^^^^^^^^^^^^^
...
 33 |     pub async fn wait_for_node_online(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
 47 |     pub async fn take_node_offline(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
 59 |     pub async fn bring_node_online(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
 71 |     pub async fn execute_sql_on_random(&self, sql: &str) -> Result<QueryResponse> {
    |                  ^^^^^^^^^^^^^^^^^^^^^
...
 95 |     pub async fn execute_sql_on_all(&self, sql: &str) -> Result<Vec<QueryResponse>> {
    |                  ^^^^^^^^^^^^^^^^^^
...
108 |     pub async fn execute_sql_on_all_with_indices(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
124 |     pub async fn verify_data_consistency(&self, query: &str) -> Result<bool> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^
...
185 |     pub fn new(nodes: Vec<HttpTestServer>) -> Self {
    |            ^^^

warning: function `execute_sql` is never used
  --> backend/tests/scenarios/../common/testserver/fixtures.rs:64:14
   |
64 | pub async fn execute_sql(server: &TestServer, sql: &str, user_id: &str) -> Result<QueryResponse> {
   |              ^^^^^^^^^^^

warning: function `create_namespace_with_options` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:114:14
    |
114 | pub async fn create_namespace_with_options(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `create_user_table_with_flush` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:208:14
    |
208 | pub async fn create_user_table_with_flush(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `drop_table` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:322:14
    |
322 | pub async fn drop_table(server: &TestServer, namespace: &str, table_name: &str) -> QueryResponse {
    |              ^^^^^^^^^^

warning: function `insert_message` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:389:14
    |
389 | pub async fn insert_message(
    |              ^^^^^^^^^^^^^^

warning: function `update_message` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:414:14
    |
414 | pub async fn update_message(
    |              ^^^^^^^^^^^^^^

warning: function `delete_message` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:434:14
    |
434 | pub async fn delete_message(server: &TestServer, namespace: &str, id: i64) -> QueryResponse {
    |              ^^^^^^^^^^^^^^

warning: function `query_user_messages` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:446:14
    |
446 | pub async fn query_user_messages(
    |              ^^^^^^^^^^^^^^^^^^^

warning: function `generate_stream_events` is never used
   --> backend/tests/scenarios/../common/testserver/fixtures.rs:485:8
    |
485 | pub fn generate_stream_events(count: usize) -> Vec<(String, String)> {
    |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `count_parquet_files_for_table` is never used
   --> backend/tests/scenarios/../common/testserver/flush.rs:169:8
    |
169 | pub fn count_parquet_files_for_table(storage_root: &Path, ns: &str, table: &str) -> usize {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_parquet_files_for_table` is never used
   --> backend/tests/scenarios/../common/testserver/flush.rs:180:14
    |
180 | pub async fn wait_for_parquet_files_for_table(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_parquet_files_for_user_table` is never used
   --> backend/tests/scenarios/../common/testserver/flush.rs:220:14
    |
220 | pub async fn wait_for_parquet_files_for_user_table(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: static `HTTP_TEST_SUITE_LOCK` is never used
  --> backend/tests/scenarios/../common/testserver/http_server.rs:23:8
   |
23 | static HTTP_TEST_SUITE_LOCK: Lazy<Mutex<()>> = Lazy::new(|| Mutex::new(()));
   |        ^^^^^^^^^^^^^^^^^^^^

warning: static `GLOBAL_CLUSTER_SERVER` is never used
  --> backend/tests/scenarios/../common/testserver/http_server.rs:38:8
   |
38 | static GLOBAL_CLUSTER_SERVER: OnceCell<ClusterTestServer> = OnceCell::const_new();
   |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `acquire_test_lock` is never used
  --> backend/tests/scenarios/../common/testserver/http_server.rs:40:14
   |
40 | pub async fn acquire_test_lock() -> tokio::sync::MutexGuard<'static, ()> {
   |              ^^^^^^^^^^^^^^^^^

warning: function `get_cluster_server` is never used
   --> backend/tests/scenarios/../common/testserver/http_server.rs:118:14
    |
118 | pub async fn get_cluster_server() -> &'static ClusterTestServer {
    |              ^^^^^^^^^^^^^^^^^^

warning: function `acquire_global_http_test_server_lock` is never used
   --> backend/tests/scenarios/../common/testserver/http_server.rs:150:4
    |
150 | fn acquire_global_http_test_server_lock() -> Result<Option<std::fs::File>> {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `start_cluster_server` is never used
   --> backend/tests/scenarios/../common/testserver/http_server.rs:927:10
    |
927 | async fn start_cluster_server() -> Result<ClusterTestServer> {
    |          ^^^^^^^^^^^^^^^^^^^^

warning: function `is_pending_job_status` is never used
 --> backend/tests/scenarios/../common/testserver/jobs.rs:7:4
  |
7 | fn is_pending_job_status(status: &str) -> bool {
  |    ^^^^^^^^^^^^^^^^^^^^^

warning: function `extract_cleanup_job_id` is never used
  --> backend/tests/scenarios/../common/testserver/jobs.rs:14:8
   |
14 | pub fn extract_cleanup_job_id(message: &str) -> Option<String> {
   |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_job_completion` is never used
  --> backend/tests/scenarios/../common/testserver/jobs.rs:19:14
   |
19 | pub async fn wait_for_job_completion(
   |              ^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_path_absent` is never used
  --> backend/tests/scenarios/../common/testserver/jobs.rs:72:14
   |
72 | pub async fn wait_for_path_absent(path: &std::path::Path, timeout: Duration) -> bool {
   |              ^^^^^^^^^^^^^^^^^^^^

warning: function `get_count_value` is never used
  --> backend/tests/scenarios/../common/testserver/query_helpers.rs:26:8
   |
26 | pub fn get_count_value(response: &QueryResponse, default: i64) -> i64 {
   |        ^^^^^^^^^^^^^^^

warning: function `assert_query_success` is never used
  --> backend/tests/scenarios/../common/testserver/query_helpers.rs:50:8
   |
50 | pub fn assert_query_success(response: &QueryResponse, context: &str) {
   |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_query_has_results` is never used
  --> backend/tests/scenarios/../common/testserver/query_helpers.rs:67:8
   |
67 | pub fn assert_query_has_results(response: &QueryResponse, context: &str) {
   |        ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_row_count` is never used
  --> backend/tests/scenarios/../common/testserver/query_helpers.rs:83:8
   |
83 | pub fn assert_row_count(response: &QueryResponse, expected: usize, context: &str) {
   |        ^^^^^^^^^^^^^^^^

warning: function `get_value_or_default` is never used
   --> backend/tests/scenarios/../common/testserver/query_helpers.rs:100:8
    |
100 | pub fn get_value_or_default(
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `get_i64_or_default` is never used
   --> backend/tests/scenarios/../common/testserver/query_helpers.rs:117:8
    |
117 | pub fn get_i64_or_default(response: &QueryResponse, column_name: &str, default: i64) -> i64 {
    |        ^^^^^^^^^^^^^^^^^^

warning: function `get_string_or_default` is never used
   --> backend/tests/scenarios/../common/testserver/query_helpers.rs:128:8
    |
128 | pub fn get_string_or_default(
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: field `session_context` is never read
  --> backend/tests/scenarios/../common/testserver/test_server.rs:22:9
   |
19 | pub struct TestServer {
   |            ---------- field in this struct
...
22 |     pub session_context: Arc<SessionContext>,
   |         ^^^^^^^^^^^^^^^
   |
   = note: `TestServer` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: associated items `new`, `create_user`, and `users_repo` are never used
   --> backend/tests/scenarios/../common/testserver/test_server.rs:34:18
    |
 26 | impl TestServer {
    | --------------- associated items in this implementation
...
 34 |     pub async fn new() -> Self {
    |                  ^^^
...
207 |     pub async fn create_user(&self, username: &str, password: &str, role: Role) -> UserId {
    |                  ^^^^^^^^^^^
...
252 |     pub fn users_repo(&self) -> Arc<dyn UserRepository> {
    |            ^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_01_chat_app.rs:29:7
   |
29 | const TEST_TIMEOUT: Duration = Duration::from_secs(60);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_02_offline_sync.rs:28:7
   |
28 | const TEST_TIMEOUT: Duration = Duration::from_secs(120);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_03_shopping_cart.rs:30:7
   |
30 | const TEST_TIMEOUT: Duration = Duration::from_secs(90);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_04_iot_telemetry.rs:21:7
   |
21 | const TEST_TIMEOUT: Duration = Duration::from_secs(180);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_05_dashboards.rs:23:7
   |
23 | const TEST_TIMEOUT: Duration = Duration::from_secs(60);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_06_jobs.rs:19:7
   |
19 | const TEST_TIMEOUT: Duration = Duration::from_secs(60);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_07_collaborative.rs:22:7
   |
22 | const TEST_TIMEOUT: Duration = Duration::from_secs(60);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_08_burst.rs:20:7
   |
20 | const TEST_TIMEOUT: Duration = Duration::from_secs(90);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_09_ddl_while_active.rs:19:7
   |
19 | const TEST_TIMEOUT: Duration = Duration::from_secs(60);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_10_multi_tenant.rs:15:7
   |
15 | const TEST_TIMEOUT: Duration = Duration::from_secs(60);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_11_multi_storage.rs:16:7
   |
16 | const TEST_TIMEOUT: Duration = Duration::from_secs(60);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_12_performance.rs:17:7
   |
17 | const TEST_TIMEOUT: Duration = Duration::from_secs(120);
   |       ^^^^^^^^^^^^

warning: constant `TEST_TIMEOUT` is never used
  --> backend/tests/scenarios/scenario_13_soak_test.rs:21:7
   |
21 | const TEST_TIMEOUT: Duration = Duration::from_secs(180);
   |       ^^^^^^^^^^^^

   Compiling kalamdb-server v0.2.0 (/Users/jamal/git/KalamDB/backend)
warning: unused import: `super::test_support::flush::find_parquet_files`
 --> backend/tests/testserver/flush/test_flush_unregistered_suite_http.rs:8:5
  |
8 | use super::test_support::flush::find_parquet_files;
  |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` (part of `#[warn(unused)]`) on by default

warning: unused import: `Instant`
  --> backend/tests/testserver/flush/test_flush_unregistered_suite_http.rs:12:36
   |
12 | use tokio::time::{sleep, Duration, Instant};
   |                                    ^^^^^^^

warning: unused import: `futures_util::StreamExt`
 --> backend/tests/testserver/subscription/test_live_query_inserts.rs:4:5
  |
4 | use futures_util::StreamExt;
  |     ^^^^^^^^^^^^^^^^^^^^^^^

warning: value assigned to `delete_received` is never read
  --> backend/tests/testserver/subscription/test_live_query_deletes.rs:83:31
   |
83 |     let mut delete_received = false;
   |                               ^^^^^
   |
   = help: maybe it is overwritten before being read?
   = note: `#[warn(unused_assignments)]` (part of `#[warn(unused)]`) on by default

warning: struct `ClusterTestServer` is never constructed
 --> backend/tests/testserver/../common/testserver/cluster.rs:8:12
  |
8 | pub struct ClusterTestServer {
  |            ^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: multiple associated items are never used
   --> backend/tests/testserver/../common/testserver/cluster.rs:17:12
    |
 15 | impl ClusterTestServer {
    | ---------------------- associated items in this implementation
 16 |     /// Get a reference to a node in the cluster (0, 1, or 2)
 17 |     pub fn get_node(&self, index: usize) -> Result<&HttpTestServer> {
    |            ^^^^^^^^
...
 24 |     pub async fn is_node_online(&self, index: usize) -> Result<bool> {
    |                  ^^^^^^^^^^^^^^
...
 33 |     pub async fn wait_for_node_online(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
 47 |     pub async fn take_node_offline(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
 59 |     pub async fn bring_node_online(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
 71 |     pub async fn execute_sql_on_random(&self, sql: &str) -> Result<QueryResponse> {
    |                  ^^^^^^^^^^^^^^^^^^^^^
...
 95 |     pub async fn execute_sql_on_all(&self, sql: &str) -> Result<Vec<QueryResponse>> {
    |                  ^^^^^^^^^^^^^^^^^^
...
108 |     pub async fn execute_sql_on_all_with_indices(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
124 |     pub async fn verify_data_consistency(&self, query: &str) -> Result<bool> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^
...
185 |     pub fn new(nodes: Vec<HttpTestServer>) -> Self {
    |            ^^^

warning: function `get_count_value` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:43:8
   |
43 | pub fn get_count_value(response: &QueryResponse, default: i64) -> i64 {
   |        ^^^^^^^^^^^^^^^

warning: function `get_first_string` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:64:8
   |
64 | pub fn get_first_string(resp: &QueryResponse, column: &str) -> Option<String> {
   |        ^^^^^^^^^^^^^^^^

warning: function `get_first_i64` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:69:8
   |
69 | pub fn get_first_i64(resp: &QueryResponse, column: &str) -> Option<i64> {
   |        ^^^^^^^^^^^^^

warning: function `get_count` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:74:8
   |
74 | pub fn get_count(resp: &QueryResponse) -> i64 {
   |        ^^^^^^^^^

warning: function `get_response_rows` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:79:8
   |
79 | pub fn get_response_rows(resp: &QueryResponse) -> Vec<HashMap<String, JsonValue>> {
   |        ^^^^^^^^^^^^^^^^^

warning: function `json_to_i64` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:84:8
   |
84 | pub fn json_to_i64(v: &JsonValue) -> Option<i64> {
   |        ^^^^^^^^^^^

warning: function `extract_i64` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:93:4
   |
93 | fn extract_i64(v: &JsonValue) -> Option<i64> {
   |    ^^^^^^^^^^^

warning: function `get_rows` is never used
  --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:98:8
   |
98 | pub fn get_rows(resp: &QueryResponse) -> Vec<Vec<JsonValue>> {
   |        ^^^^^^^^

warning: function `get_column_index` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:103:8
    |
103 | pub fn get_column_index(resp: &QueryResponse, column_name: &str) -> Option<usize> {
    |        ^^^^^^^^^^^^^^^^

warning: function `get_string_value` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:108:8
    |
108 | pub fn get_string_value(row: &[JsonValue], idx: usize) -> Option<String> {
    |        ^^^^^^^^^^^^^^^^

warning: function `get_i64_value` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:117:8
    |
117 | pub fn get_i64_value(row: &[JsonValue], idx: usize) -> Option<i64> {
    |        ^^^^^^^^^^^^^

warning: function `assert_query_success` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:129:8
    |
129 | pub fn assert_query_success(response: &QueryResponse, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_success` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:140:8
    |
140 | pub fn assert_success(resp: &QueryResponse, context: &str) {
    |        ^^^^^^^^^^^^^^

warning: function `assert_query_has_results` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:145:8
    |
145 | pub fn assert_query_has_results(response: &QueryResponse, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_row_count` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:155:8
    |
155 | pub fn assert_row_count(response: &QueryResponse, expected: usize, context: &str) {
    |        ^^^^^^^^^^^^^^^^

warning: function `assert_min_row_count` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:166:8
    |
166 | pub fn assert_min_row_count(resp: &QueryResponse, min: usize, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_error_contains` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:179:8
    |
179 | pub fn assert_error_contains(resp: &QueryResponse, expected: &str, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_no_duplicates` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:192:8
    |
192 | pub fn assert_no_duplicates(resp: &QueryResponse, pk_column: &str) -> Result<()> {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `create_test_users` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:281:14
    |
281 | pub async fn create_test_users(
    |              ^^^^^^^^^^^^^^^^^

warning: function `create_user_and_client` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:292:14
    |
292 | pub async fn create_user_and_client(
    |              ^^^^^^^^^^^^^^^^^^^^^^

warning: function `find_files_recursive` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:307:8
    |
307 | pub fn find_files_recursive(root: &Path, filename: &str) -> Vec<PathBuf> {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_manifest_exists` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:323:8
    |
323 | pub fn assert_manifest_exists(storage_root: &Path, ns: &str, table: &str) -> Result<()> {
    |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_parquet_exists_and_nonempty` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:346:8
    |
346 | pub fn assert_parquet_exists_and_nonempty(
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_ack` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:385:14
    |
385 | pub async fn wait_for_ack(
    |              ^^^^^^^^^^^^

warning: function `drain_initial_data` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:410:14
    |
410 | pub async fn drain_initial_data(
    |              ^^^^^^^^^^^^^^^^^^

warning: function `run_parallel_users` is never used
   --> backend/tests/testserver/../common/testserver/consolidated_helpers.rs:444:14
    |
444 | pub async fn run_parallel_users<F, Fut>(
    |              ^^^^^^^^^^^^^^^^^^

warning: function `execute_sql` is never used
  --> backend/tests/testserver/../common/testserver/fixtures.rs:64:14
   |
64 | pub async fn execute_sql(server: &TestServer, sql: &str, user_id: &str) -> Result<QueryResponse> {
   |              ^^^^^^^^^^^

warning: function `create_namespace_with_options` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:114:14
    |
114 | pub async fn create_namespace_with_options(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `create_user_table_with_flush` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:208:14
    |
208 | pub async fn create_user_table_with_flush(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `drop_table` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:322:14
    |
322 | pub async fn drop_table(server: &TestServer, namespace: &str, table_name: &str) -> QueryResponse {
    |              ^^^^^^^^^^

warning: function `insert_message` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:389:14
    |
389 | pub async fn insert_message(
    |              ^^^^^^^^^^^^^^

warning: function `update_message` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:414:14
    |
414 | pub async fn update_message(
    |              ^^^^^^^^^^^^^^

warning: function `delete_message` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:434:14
    |
434 | pub async fn delete_message(server: &TestServer, namespace: &str, id: i64) -> QueryResponse {
    |              ^^^^^^^^^^^^^^

warning: function `query_user_messages` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:446:14
    |
446 | pub async fn query_user_messages(
    |              ^^^^^^^^^^^^^^^^^^^

warning: function `generate_stream_events` is never used
   --> backend/tests/testserver/../common/testserver/fixtures.rs:485:8
    |
485 | pub fn generate_stream_events(count: usize) -> Vec<(String, String)> {
    |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `count_parquet_files_for_table` is never used
   --> backend/tests/testserver/../common/testserver/flush.rs:169:8
    |
169 | pub fn count_parquet_files_for_table(storage_root: &Path, ns: &str, table: &str) -> usize {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: static `GLOBAL_CLUSTER_SERVER` is never used
  --> backend/tests/testserver/../common/testserver/http_server.rs:38:8
   |
38 | static GLOBAL_CLUSTER_SERVER: OnceCell<ClusterTestServer> = OnceCell::const_new();
   |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `get_cluster_server` is never used
   --> backend/tests/testserver/../common/testserver/http_server.rs:118:14
    |
118 | pub async fn get_cluster_server() -> &'static ClusterTestServer {
    |              ^^^^^^^^^^^^^^^^^^

warning: function `acquire_global_http_test_server_lock` is never used
   --> backend/tests/testserver/../common/testserver/http_server.rs:150:4
    |
150 | fn acquire_global_http_test_server_lock() -> Result<Option<std::fs::File>> {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: methods `websocket_url`, `ensure_user_exists`, and `execute_sql_with_params` are never used
   --> backend/tests/testserver/../common/testserver/http_server.rs:236:12
    |
180 | impl HttpTestServer {
    | ------------------- methods in this implementation
...
236 |     pub fn websocket_url(&self) -> String {
    |            ^^^^^^^^^^^^^
...
320 |     pub async fn ensure_user_exists(
    |                  ^^^^^^^^^^^^^^^^^^
...
450 |     pub async fn execute_sql_with_params(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^

warning: function `start_cluster_server` is never used
   --> backend/tests/testserver/../common/testserver/http_server.rs:927:10
    |
927 | async fn start_cluster_server() -> Result<ClusterTestServer> {
    |          ^^^^^^^^^^^^^^^^^^^^

warning: function `get_count_value` is never used
  --> backend/tests/testserver/../common/testserver/query_helpers.rs:26:8
   |
26 | pub fn get_count_value(response: &QueryResponse, default: i64) -> i64 {
   |        ^^^^^^^^^^^^^^^

warning: function `assert_query_success` is never used
  --> backend/tests/testserver/../common/testserver/query_helpers.rs:50:8
   |
50 | pub fn assert_query_success(response: &QueryResponse, context: &str) {
   |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_query_has_results` is never used
  --> backend/tests/testserver/../common/testserver/query_helpers.rs:67:8
   |
67 | pub fn assert_query_has_results(response: &QueryResponse, context: &str) {
   |        ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_row_count` is never used
  --> backend/tests/testserver/../common/testserver/query_helpers.rs:83:8
   |
83 | pub fn assert_row_count(response: &QueryResponse, expected: usize, context: &str) {
   |        ^^^^^^^^^^^^^^^^

warning: function `get_value_or_default` is never used
   --> backend/tests/testserver/../common/testserver/query_helpers.rs:100:8
    |
100 | pub fn get_value_or_default(
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `get_i64_or_default` is never used
   --> backend/tests/testserver/../common/testserver/query_helpers.rs:117:8
    |
117 | pub fn get_i64_or_default(response: &QueryResponse, column_name: &str, default: i64) -> i64 {
    |        ^^^^^^^^^^^^^^^^^^

warning: function `get_string_or_default` is never used
   --> backend/tests/testserver/../common/testserver/query_helpers.rs:128:8
    |
128 | pub fn get_string_or_default(
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: field `session_context` is never read
  --> backend/tests/testserver/../common/testserver/test_server.rs:22:9
   |
19 | pub struct TestServer {
   |            ---------- field in this struct
...
22 |     pub session_context: Arc<SessionContext>,
   |         ^^^^^^^^^^^^^^^
   |
   = note: `TestServer` has a derived impl for the trait `Clone`, but this is intentionally ignored during dead code analysis

warning: associated items `new`, `create_user`, and `users_repo` are never used
   --> backend/tests/testserver/../common/testserver/test_server.rs:34:18
    |
 26 | impl TestServer {
    | --------------- associated items in this implementation
...
 34 |     pub async fn new() -> Self {
    |                  ^^^
...
207 |     pub async fn create_user(&self, username: &str, password: &str, role: Role) -> UserId {
    |                  ^^^^^^^^^^^
...
252 |     pub fn users_repo(&self) -> Arc<dyn UserRepository> {
    |            ^^^^^^^^^^

warning: function `is_pending_job_status` is never used
  --> backend/tests/testserver/flush/test_flush_unregistered_suite_http.rs:14:4
   |
14 | fn is_pending_job_status(status: &str) -> bool {
   |    ^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_flush_job_completed` is never used
  --> backend/tests/testserver/manifest/test_manifest_persistence_http.rs:30:10
   |
30 | async fn wait_for_flush_job_completed(
   |          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: `kalamdb-server` (test "test_scenarios") generated 53 warnings
warning: `kalamdb-server` (test "test_testserver") generated 58 warnings (run `cargo fix --test "test_testserver" -p kalamdb-server` to apply 2 suggestions)
warning: struct `ClusterTestServer` is never constructed
 --> backend/tests/misc/../common/testserver/cluster.rs:8:12
  |
8 | pub struct ClusterTestServer {
  |            ^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(dead_code)]` (part of `#[warn(unused)]`) on by default

warning: multiple associated items are never used
   --> backend/tests/misc/../common/testserver/cluster.rs:17:12
    |
 15 | impl ClusterTestServer {
    | ---------------------- associated items in this implementation
 16 |     /// Get a reference to a node in the cluster (0, 1, or 2)
 17 |     pub fn get_node(&self, index: usize) -> Result<&HttpTestServer> {
    |            ^^^^^^^^
...
 24 |     pub async fn is_node_online(&self, index: usize) -> Result<bool> {
    |                  ^^^^^^^^^^^^^^
...
 33 |     pub async fn wait_for_node_online(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^^^^
...
 47 |     pub async fn take_node_offline(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
 59 |     pub async fn bring_node_online(&self, index: usize) -> Result<()> {
    |                  ^^^^^^^^^^^^^^^^^
...
 71 |     pub async fn execute_sql_on_random(&self, sql: &str) -> Result<QueryResponse> {
    |                  ^^^^^^^^^^^^^^^^^^^^^
...
 95 |     pub async fn execute_sql_on_all(&self, sql: &str) -> Result<Vec<QueryResponse>> {
    |                  ^^^^^^^^^^^^^^^^^^
...
108 |     pub async fn execute_sql_on_all_with_indices(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
124 |     pub async fn verify_data_consistency(&self, query: &str) -> Result<bool> {
    |                  ^^^^^^^^^^^^^^^^^^^^^^^
...
185 |     pub fn new(nodes: Vec<HttpTestServer>) -> Self {
    |            ^^^

warning: function `get_count_value` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:43:8
   |
43 | pub fn get_count_value(response: &QueryResponse, default: i64) -> i64 {
   |        ^^^^^^^^^^^^^^^

warning: function `get_first_string` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:64:8
   |
64 | pub fn get_first_string(resp: &QueryResponse, column: &str) -> Option<String> {
   |        ^^^^^^^^^^^^^^^^

warning: function `get_first_i64` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:69:8
   |
69 | pub fn get_first_i64(resp: &QueryResponse, column: &str) -> Option<i64> {
   |        ^^^^^^^^^^^^^

warning: function `get_count` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:74:8
   |
74 | pub fn get_count(resp: &QueryResponse) -> i64 {
   |        ^^^^^^^^^

warning: function `get_response_rows` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:79:8
   |
79 | pub fn get_response_rows(resp: &QueryResponse) -> Vec<HashMap<String, JsonValue>> {
   |        ^^^^^^^^^^^^^^^^^

warning: function `json_to_i64` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:84:8
   |
84 | pub fn json_to_i64(v: &JsonValue) -> Option<i64> {
   |        ^^^^^^^^^^^

warning: function `extract_i64` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:93:4
   |
93 | fn extract_i64(v: &JsonValue) -> Option<i64> {
   |    ^^^^^^^^^^^

warning: function `get_rows` is never used
  --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:98:8
   |
98 | pub fn get_rows(resp: &QueryResponse) -> Vec<Vec<JsonValue>> {
   |        ^^^^^^^^

warning: function `get_column_index` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:103:8
    |
103 | pub fn get_column_index(resp: &QueryResponse, column_name: &str) -> Option<usize> {
    |        ^^^^^^^^^^^^^^^^

warning: function `get_string_value` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:108:8
    |
108 | pub fn get_string_value(row: &[JsonValue], idx: usize) -> Option<String> {
    |        ^^^^^^^^^^^^^^^^

warning: function `get_i64_value` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:117:8
    |
117 | pub fn get_i64_value(row: &[JsonValue], idx: usize) -> Option<i64> {
    |        ^^^^^^^^^^^^^

warning: function `assert_query_success` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:129:8
    |
129 | pub fn assert_query_success(response: &QueryResponse, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_success` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:140:8
    |
140 | pub fn assert_success(resp: &QueryResponse, context: &str) {
    |        ^^^^^^^^^^^^^^

warning: function `assert_query_has_results` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:145:8
    |
145 | pub fn assert_query_has_results(response: &QueryResponse, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_row_count` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:155:8
    |
155 | pub fn assert_row_count(response: &QueryResponse, expected: usize, context: &str) {
    |        ^^^^^^^^^^^^^^^^

warning: function `assert_min_row_count` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:166:8
    |
166 | pub fn assert_min_row_count(resp: &QueryResponse, min: usize, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_error_contains` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:179:8
    |
179 | pub fn assert_error_contains(resp: &QueryResponse, expected: &str, context: &str) {
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_no_duplicates` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:192:8
    |
192 | pub fn assert_no_duplicates(resp: &QueryResponse, pk_column: &str) -> Result<()> {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `ensure_user_exists` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:217:14
    |
217 | pub async fn ensure_user_exists(
    |              ^^^^^^^^^^^^^^^^^^

warning: function `create_test_users` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:281:14
    |
281 | pub async fn create_test_users(
    |              ^^^^^^^^^^^^^^^^^

warning: function `create_user_and_client` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:292:14
    |
292 | pub async fn create_user_and_client(
    |              ^^^^^^^^^^^^^^^^^^^^^^

warning: function `find_files_recursive` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:307:8
    |
307 | pub fn find_files_recursive(root: &Path, filename: &str) -> Vec<PathBuf> {
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_manifest_exists` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:323:8
    |
323 | pub fn assert_manifest_exists(storage_root: &Path, ns: &str, table: &str) -> Result<()> {
    |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_parquet_exists_and_nonempty` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:346:8
    |
346 | pub fn assert_parquet_exists_and_nonempty(
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_ack` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:385:14
    |
385 | pub async fn wait_for_ack(
    |              ^^^^^^^^^^^^

warning: function `drain_initial_data` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:410:14
    |
410 | pub async fn drain_initial_data(
    |              ^^^^^^^^^^^^^^^^^^

warning: function `run_parallel_users` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:444:14
    |
444 | pub async fn run_parallel_users<F, Fut>(
    |              ^^^^^^^^^^^^^^^^^^

warning: function `unique_table` is never used
   --> backend/tests/misc/../common/testserver/consolidated_helpers.rs:483:8
    |
483 | pub fn unique_table(prefix: &str) -> String {
    |        ^^^^^^^^^^^^

warning: function `execute_sql` is never used
  --> backend/tests/misc/../common/testserver/fixtures.rs:64:14
   |
64 | pub async fn execute_sql(server: &TestServer, sql: &str, user_id: &str) -> Result<QueryResponse> {
   |              ^^^^^^^^^^^

warning: function `create_namespace_with_options` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:114:14
    |
114 | pub async fn create_namespace_with_options(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `create_user_table_with_flush` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:208:14
    |
208 | pub async fn create_user_table_with_flush(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `drop_table` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:322:14
    |
322 | pub async fn drop_table(server: &TestServer, namespace: &str, table_name: &str) -> QueryResponse {
    |              ^^^^^^^^^^

warning: function `insert_message` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:389:14
    |
389 | pub async fn insert_message(
    |              ^^^^^^^^^^^^^^

warning: function `update_message` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:414:14
    |
414 | pub async fn update_message(
    |              ^^^^^^^^^^^^^^

warning: function `delete_message` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:434:14
    |
434 | pub async fn delete_message(server: &TestServer, namespace: &str, id: i64) -> QueryResponse {
    |              ^^^^^^^^^^^^^^

warning: function `query_user_messages` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:446:14
    |
446 | pub async fn query_user_messages(
    |              ^^^^^^^^^^^^^^^^^^^

warning: function `generate_stream_events` is never used
   --> backend/tests/misc/../common/testserver/fixtures.rs:485:8
    |
485 | pub fn generate_stream_events(count: usize) -> Vec<(String, String)> {
    |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `force_flush_table` is never used
  --> backend/tests/misc/../common/testserver/flush.rs:11:10
   |
11 | async fn force_flush_table(server: &HttpTestServer, ns: &str, table: &str) -> Result<()> {
   |          ^^^^^^^^^^^^^^^^^

warning: function `is_pending_job_status` is never used
  --> backend/tests/misc/../common/testserver/flush.rs:36:4
   |
36 | fn is_pending_job_status(status: &str) -> bool {
   |    ^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_flush_jobs_settled` is never used
  --> backend/tests/misc/../common/testserver/flush.rs:41:14
   |
41 | pub async fn wait_for_flush_jobs_settled(
   |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `flush_table_and_wait` is never used
   --> backend/tests/misc/../common/testserver/flush.rs:126:14
    |
126 | pub async fn flush_table_and_wait(server: &HttpTestServer, ns: &str, table: &str) -> Result<()> {
    |              ^^^^^^^^^^^^^^^^^^^^

warning: function `find_parquet_files` is never used
   --> backend/tests/misc/../common/testserver/flush.rs:148:8
    |
148 | pub fn find_parquet_files(root: &Path) -> Vec<PathBuf> {
    |        ^^^^^^^^^^^^^^^^^^

warning: function `count_parquet_files_for_table` is never used
   --> backend/tests/misc/../common/testserver/flush.rs:169:8
    |
169 | pub fn count_parquet_files_for_table(storage_root: &Path, ns: &str, table: &str) -> usize {
    |        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_parquet_files_for_table` is never used
   --> backend/tests/misc/../common/testserver/flush.rs:180:14
    |
180 | pub async fn wait_for_parquet_files_for_table(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_parquet_files_for_user_table` is never used
   --> backend/tests/misc/../common/testserver/flush.rs:220:14
    |
220 | pub async fn wait_for_parquet_files_for_user_table(
    |              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: static `HTTP_TEST_SUITE_LOCK` is never used
  --> backend/tests/misc/../common/testserver/http_server.rs:23:8
   |
23 | static HTTP_TEST_SUITE_LOCK: Lazy<Mutex<()>> = Lazy::new(|| Mutex::new(()));
   |        ^^^^^^^^^^^^^^^^^^^^

warning: static `GLOBAL_CLUSTER_SERVER` is never used
  --> backend/tests/misc/../common/testserver/http_server.rs:38:8
   |
38 | static GLOBAL_CLUSTER_SERVER: OnceCell<ClusterTestServer> = OnceCell::const_new();
   |        ^^^^^^^^^^^^^^^^^^^^^

warning: function `acquire_test_lock` is never used
  --> backend/tests/misc/../common/testserver/http_server.rs:40:14
   |
40 | pub async fn acquire_test_lock() -> tokio::sync::MutexGuard<'static, ()> {
   |              ^^^^^^^^^^^^^^^^^

warning: function `get_cluster_server` is never used
   --> backend/tests/misc/../common/testserver/http_server.rs:118:14
    |
118 | pub async fn get_cluster_server() -> &'static ClusterTestServer {
    |              ^^^^^^^^^^^^^^^^^^

warning: fields `user_id_cache` and `user_password_cache` are never read
   --> backend/tests/misc/../common/testserver/http_server.rs:143:5
    |
129 | pub struct HttpTestServer {
    |            -------------- fields in this struct
...
143 |     user_id_cache: std::sync::Mutex<HashMap<String, String>>,
    |     ^^^^^^^^^^^^^
144 |     /// Cache of username -> password for basic auth test clients
145 |     user_password_cache: std::sync::Mutex<HashMap<String, String>>,
    |     ^^^^^^^^^^^^^^^^^^^

warning: function `acquire_global_http_test_server_lock` is never used
   --> backend/tests/misc/../common/testserver/http_server.rs:150:4
    |
150 | fn acquire_global_http_test_server_lock() -> Result<Option<std::fs::File>> {
    |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: multiple associated items are never used
   --> backend/tests/misc/../common/testserver/http_server.rs:212:12
    |
180 | impl HttpTestServer {
    | ------------------- associated items in this implementation
...
212 |     pub fn basic_auth_header(username: &UserName, password: &str) -> String {
    |            ^^^^^^^^^^^^^^^^^
...
236 |     pub fn websocket_url(&self) -> String {
    |            ^^^^^^^^^^^^^
...
267 |     pub fn create_jwt_token(&self, username: &UserName) -> String {
    |            ^^^^^^^^^^^^^^^^
...
295 |     pub fn cache_user_id(&self, username: &str, user_id: &str) {
    |            ^^^^^^^^^^^^^
...
301 |     pub fn cache_user_password(&self, username: &str, password: &str) {
    |            ^^^^^^^^^^^^^^^^^^^
...
308 |     pub fn get_cached_user_id(&self, username: &str) -> Option<String> {
    |            ^^^^^^^^^^^^^^^^^^
...
314 |     pub fn get_cached_user_password(&self, username: &str) -> Option<String> {
    |            ^^^^^^^^^^^^^^^^^^^^^^^^
...
320 |     pub async fn ensure_user_exists(
    |                  ^^^^^^^^^^^^^^^^^^
...
367 |     pub fn link_client_with_id(
    |            ^^^^^^^^^^^^^^^^^^^
...
425 |     pub fn link_client(&self, username: &str) -> KalamLinkClient {
    |            ^^^^^^^^^^^
...
450 |     pub async fn execute_sql_with_params(
    |                  ^^^^^^^^^^^^^^^^^^^^^^^

warning: function `start_cluster_server` is never used
   --> backend/tests/misc/../common/testserver/http_server.rs:927:10
    |
927 | async fn start_cluster_server() -> Result<ClusterTestServer> {
    |          ^^^^^^^^^^^^^^^^^^^^

warning: function `is_pending_job_status` is never used
 --> backend/tests/misc/../common/testserver/jobs.rs:7:4
  |
7 | fn is_pending_job_status(status: &str) -> bool {
  |    ^^^^^^^^^^^^^^^^^^^^^

warning: function `extract_cleanup_job_id` is never used
  --> backend/tests/misc/../common/testserver/jobs.rs:14:8
   |
14 | pub fn extract_cleanup_job_id(message: &str) -> Option<String> {
   |        ^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_job_completion` is never used
  --> backend/tests/misc/../common/testserver/jobs.rs:19:14
   |
19 | pub async fn wait_for_job_completion(
   |              ^^^^^^^^^^^^^^^^^^^^^^^

warning: function `wait_for_path_absent` is never used
  --> backend/tests/misc/../common/testserver/jobs.rs:72:14
   |
72 | pub async fn wait_for_path_absent(path: &std::path::Path, timeout: Duration) -> bool {
   |              ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_query_success` is never used
  --> backend/tests/misc/../common/testserver/query_helpers.rs:50:8
   |
50 | pub fn assert_query_success(response: &QueryResponse, context: &str) {
   |        ^^^^^^^^^^^^^^^^^^^^

warning: function `assert_query_has_results` is never used
  --> backend/tests/misc/../common/testserver/query_helpers.rs:67:8
   |
67 | pub fn assert_query_has_results(response: &QueryResponse, context: &str) {
   |        ^^^^^^^^^^^^^^^^^^^^^^^^

warning: function `assert_row_count` is never used
  --> backend/tests/misc/../common/testserver/query_helpers.rs:83:8
   |
83 | pub fn assert_row_count(response: &QueryResponse, expected: usize, context: &str) {
   |        ^^^^^^^^^^^^^^^^

warning: function `get_value_or_default` is never used
   --> backend/tests/misc/../common/testserver/query_helpers.rs:100:8
    |
100 | pub fn get_value_or_default(
    |        ^^^^^^^^^^^^^^^^^^^^

warning: function `get_i64_or_default` is never used
   --> backend/tests/misc/../common/testserver/query_helpers.rs:117:8
    |
117 | pub fn get_i64_or_default(response: &QueryResponse, column_name: &str, default: i64) -> i64 {
    |        ^^^^^^^^^^^^^^^^^^

warning: function `get_string_or_default` is never used
   --> backend/tests/misc/../common/testserver/query_helpers.rs:128:8
    |
128 | pub fn get_string_or_default(
    |        ^^^^^^^^^^^^^^^^^^^^^

warning: associated function `new` is never used
  --> backend/tests/misc/../common/testserver/test_server.rs:34:18
   |
26 | impl TestServer {
   | --------------- associated function in this implementation
...
34 |     pub async fn new() -> Self {
   |                  ^^^

warning: `kalamdb-server` (test "test_misc") generated 66 warnings
    Finished `test` profile [unoptimized] target(s) in 6.19s
warning: the following packages contain code that will be rejected by a future version of Rust: num-bigint-dig v0.8.4
note: to see what the problems were, use the option `--future-incompat-report`, or run `cargo report future-incompatibilities --id 1`
     Running unittests src/lib.rs (/Users/jamal/git/KalamDB/target/debug/deps/kalamdb_server-094b485514a5741e)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (/Users/jamal/git/KalamDB/target/debug/deps/kalamdb_server-ee6dfd947b9c3031)

running 4 tests
test logging::tests::test_parse_log_level_case_insensitive ... ok
test logging::tests::test_redact_sensitive_sql_preserves_safe_queries ... ok
test logging::tests::test_redact_sensitive_sql_passwords ... ok
test logging::tests::test_parse_log_level ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/misc/test_misc.rs (/Users/jamal/git/KalamDB/target/debug/deps/test_misc-68479a43aa0f5a5c)

running 191 tests
test auth::test_auth_performance::benchmark_basic_auth_performance ... ignored, Known actix-web test framework limitation with connection_info()
test auth::test_as_user_impersonation::test_as_user_nonexistent_user ... ok
test auth::test_auth_performance::test_auth_cache_effectiveness ... ignored, Known actix-web test framework limitation with connection_info()
test auth::test_as_user_impersonation::test_as_user_blocked_for_regular_user ... ok
test auth::test_as_user_impersonation::test_as_user_with_dba_role ... ok
test auth::test_basic_auth::test_basic_auth_malformed_header ... ok
test auth::test_as_user_impersonation::test_as_user_on_shared_table_rejected ... ok
test auth::test_basic_auth::test_basic_auth_missing_header ... ok
test auth::test_basic_auth::test_basic_auth_nonexistent_user ... ok
test auth::test_cli_auth::test_init_creates_system_user ... ok
test auth::test_cli_auth::test_system_user_has_metadata ... ok
test auth::test_cli_auth::test_system_user_password_is_hashed ... ok
test auth::test_as_user_impersonation::test_as_user_with_service_role ... ok
test auth::test_as_user_impersonation::test_delete_as_user ... ok
test auth::test_as_user_impersonation::test_update_as_user ... ok
test auth::test_as_user_impersonation::test_insert_as_user_ownership ... ok
test auth::test_as_user_impersonation::test_as_user_performance ... ok
test auth::test_jwt_auth::test_jwt_auth_malformed_header ... ok
test auth::test_jwt_auth::test_jwt_auth_missing_sub_claim ... ok
test auth::test_auth_performance::benchmark_jwt_auth_performance ... ok
test auth::test_jwt_auth::test_jwt_auth_invalid_signature ... ok
test auth::test_jwt_auth::test_jwt_auth_expired_token ... ok
test auth::test_jwt_auth::test_jwt_auth_success ... ok
test auth::test_e2e_auth_flow::test_e2e_auth_flow ... ok
test auth::test_oauth::test_oauth_auto_provision_disabled_by_default ... ok
test auth::test_jwt_auth::test_jwt_auth_untrusted_issuer ... ok
test auth::test_live_queries_auth_expiry::test_live_query_auth_expiry ... ok
test auth::test_basic_auth::test_basic_auth_invalid_credentials ... ok
test auth::test_e2e_auth_flow::test_password_security_e2e ... ok
test auth::test_oauth::test_oauth_azure_provider ... ok
test auth::test_basic_auth::test_basic_auth_success ... ok
test auth::test_oauth::test_oauth_google_success ... ok
test auth::test_password_complexity::test_complexity_digit_required ... ok
test auth::test_oauth::test_oauth_subject_matching ... ok
test auth::test_password_complexity::test_complexity_lowercase_required ... ok
test auth::test_password_complexity::test_complexity_special_required ... ok
test auth::test_password_complexity::test_complexity_uppercase_required ... ok
test auth::test_oauth::test_oauth_user_missing_fields ... ok
test auth::test_last_seen::test_multiple_authentications_succeed ... ok
test auth::test_last_seen::test_authentication_returns_user ... ok
test auth::test_password_complexity::test_complexity_alter_user_requires_special_character ... ok
test auth::test_oauth::test_oauth_user_password_rejected ... ok
test auth::test_e2e_auth_flow::test_role_based_auth_e2e ... ok
test auth::test_password_complexity::test_complexity_disabled_allows_simple_password ... ok
test auth::test_password_complexity::test_complexity_valid_password_succeeds ... ok
test auth::test_rbac::test_service_role_cannot_manage_users ... ok
test auth::test_password_complexity::test_complexity_alter_user_valid_password_succeeds ... ok
test auth::test_rbac::test_user_cannot_manage_users ... ok
test auth::test_soft_delete::test_count_excludes_deleted_rows ... ok
test auth::test_rbac::test_dba_can_manage_users ... ok
test auth::test_soft_delete::test_soft_delete_preserves_data ... ok
test production::test_mvcc_phase2::test_create_table_auto_adds_system_columns ... ok
test production::test_mvcc_phase2::test_create_table_without_pk_rejected ... ok
test auth::test_rbac::test_system_role_all_access_smoke ... ok
test auth::test_soft_delete::test_deleted_field_default_false ... ok
test auth::test_soft_delete::test_delete_with_where_clause ... ok
test production::test_mvcc_phase2::test_insert_duplicate_pk_rejected ... ok
test auth::test_rbac::test_service_role_flush_operations ... ok
test production::test_mvcc_phase2::test_incremental_sync_seq_threshold ... ok
test auth::test_rbac::test_user_role_own_tables_access_and_isolation ... ok
test auth::test_soft_delete::test_soft_delete_hides_rows ... ok
test production::test_production_concurrency::concurrent_duplicate_primary_key_handling ... ignored, Concurrent PK enforcement is non-deterministic without transactional locking
test production::test_mvcc_phase2::test_shared_table_row_structure ... ok
test production::test_mvcc_phase2::test_insert_storage_key_format ... ok
test production::test_mvcc_phase2::test_user_table_row_structure ... ok
test production::test_production_validation::drop_nonexistent_table_error_is_clear ... ok
test auth::test_rbac::test_service_role_cross_user_access ... ok
test auth::test_soft_delete::test_multiple_deletes ... ok
test production::test_mvcc_phase2::test_rocksdb_prefix_scan_user_isolation ... ok
test production::test_production_validation::invalid_namespace_name_rejected ... ok
test production::test_mvcc_phase2::test_rocksdb_range_scan_efficiency ... ok
test production::test_production_concurrency::concurrent_deletes ... ok
test production::test_production_concurrency::concurrent_updates_same_row ... ok
test production::test_production_validation::syntax_error_messages_are_clear ... ok
test production::test_production_validation::duplicate_primary_key_rejected ... ok
test production::test_production_concurrency::concurrent_inserts_same_user_table ... ok
test production::test_production_concurrency::concurrent_select_queries ... ok
test production::test_production_validation::permission_denied_error_is_clear ... ok
test production::test_production_validation::null_constraint_violation_detected ... ok
test schema::test_alter_table::test_alter_table_add_column ... ok
test schema::test_alter_table::test_alter_table_modify_column ... ok
test production::test_production_validation::flush_on_stream_table_rejected ... ok
test production::test_production_validation::invalid_data_type_in_insert_rejected ... ok
test production::test_production_validation::table_without_primary_key_rejected ... ok
test schema::test_alter_table::test_alter_table_drop_column ... ok
test production::test_production_validation::table_not_found_error_is_clear ... ok
test schema::test_alter_table::test_alter_table_rename_column ... ok
test schema::test_column_ordering::test_alter_table_add_column_assigns_next_ordinal ... ok
test schema::test_alter_table::test_alter_table_schema_versioning ... ok
test schema::test_column_ordering::test_alter_table_drop_column_preserves_ordinals ... ok
test schema::test_column_ordering::test_system_tables_have_correct_column_ordering ... ok
test schema::test_alter_table_after_flush::test_alter_table_add_column_after_flush ... ok
test schema::test_column_id_stability::test_column_stats_use_column_id ... ok
test schema::test_alter_table_after_flush::test_multiple_alter_operations_with_flushes ... ok
test schema::test_column_id_stability::test_full_lifecycle_with_alter_and_flush ... ok
test production::test_production_validation::user_isolation_in_user_tables ... ok
test schema::test_column_ordering::test_select_star_returns_columns_in_ordinal_order ... ok
test production::test_production_validation::select_invalid_column_error_is_clear ... ok
test auth::test_auth_performance::test_concurrent_auth_load ... ok
test schema::test_column_id_stability::test_column_id_stability_across_schema_changes ... ok
test sql::test_datafusion_commands::test_describe_datafusion_style_user_denied ... ok
test sql::test_datafusion_commands::test_describe_datafusion_style_admin_allowed ... ok
test sql::test_datafusion_commands::test_explain_command_admin_allowed ... ok
test sql::test_combined_data_integrity::test_06_soft_delete_operations ... ok
test sql::test_combined_data_integrity::test_04_combined_data_integrity_verification ... ok
test sql::test_combined_data_integrity::test_05_multiple_flush_cycles ... ok
test sql::test_combined_data_integrity::test_03_combined_data_filtering ... ok
test sql::test_combined_data_integrity::test_01_combined_data_count_and_select ... ok
test sql::test_datafusion_commands::test_explain_command_user_denied ... ok
test sql::test_datafusion_commands::test_show_all_user_denied ... ok
test sql::test_datafusion_commands::test_set_command_user_denied ... ok
test sql::test_datafusion_commands::test_set_command_admin_allowed ... ok
test sql::test_datafusion_commands::test_service_role_datafusion_commands_denied ... ok
test sql::test_datafusion_commands::test_show_all_admin_allowed ... ok
test sql::test_datafusion_commands::test_show_columns_user_denied ... ok
test sql::test_datafusion_commands::test_show_columns_admin_allowed ... ok
test sql::test_edge_cases::test_deleted_user_denied ... ok
test sql::test_dml_complex::test_delete_across_flush_boundary ... ok
test sql::test_edge_cases::test_malformed_basic_auth_400 ... ok
test sql::test_edge_cases::test_empty_credentials_401 ... ok
test sql::test_datafusion_commands::test_system_role_datafusion_commands ... ok
test sql::test_explain_index_usage::test_explain_username_equality ... ok
test sql::test_explain_index_usage::test_explain_job_status ... ok
test sql::test_dml_complex::test_delete_complex_predicate ... ok
test sql::test_dml_complex::test_update_complex_predicate_and ... ok
test sql::test_explain_index_usage::test_explain_username_like ... ok
test sql::test_dml_complex::test_update_complex_predicate_or ... ok
test sql::test_dml_complex::test_update_across_flush_boundary ... ok
test sql::test_combined_data_integrity::test_02_combined_data_aggregations ... ok
test sql::test_pk_index_efficiency::test_user_table_pk_index_isolation ... ok
test sql::test_explain_index_usage::test_index_usage_log_output ... ok
test sql::test_edge_cases::test_concurrent_auth_no_race_conditions ... ok
test sql::test_edge_cases::test_maximum_password_length ... ok
test sql::test_edge_cases::test_role_change_applies_next_request ... ok
test sql::test_row_count_behavior::test_delete_already_deleted_returns_zero ... ok
test sql::test_row_count_behavior::test_update_same_values_still_counts ... ok
test sql::test_row_count_behavior::test_delete_returns_correct_row_count ... ok
test sql::test_row_count_behavior::test_delete_multiple_rows_count ... ok
test sql::test_row_count_behavior::test_update_returns_correct_row_count ... ok
test sql::test_pk_index_efficiency::test_shared_table_pk_index_update_after_flush ... ok
test sql::test_pk_index_efficiency::test_user_table_pk_index_update_after_flush ... ok
test sql::test_pk_index_efficiency::test_shared_table_pk_index_update ... ok
test sql::test_pk_index_efficiency::test_user_table_pk_index_update ... ok
test sql::test_shared_access::test_alter_access_level_only_on_shared_tables ... ok
test sql::test_shared_access::test_access_level_only_on_shared_tables ... ok
test sql::test_system_table_index_usage::test_system_live_queries_basic ... ok
test sql::test_system_table_index_usage::test_index_performance_scaling ... ok
test sql::test_update_delete_version_resolution::test_concurrent_updates ... ok
test sql::test_update_delete_version_resolution::test_delete_excludes_record ... ok
test sql::test_shared_access::test_shared_table_defaults_to_private ... ok
test sql::test_shared_access::test_public_table_read_only_for_users ... ok
test sql::test_system_table_index_usage::test_system_users_username_index ... ok
test sql::test_system_table_index_usage::test_system_jobs_status_index ... ok
test sql::test_shared_access::test_private_table_service_dba_only ... ok
test sql::test_shared_access::test_user_cannot_modify_public_table ... ok
test sql::test_shared_access::test_change_access_level_requires_privileges ... ok
test sql::test_update_delete_version_resolution::test_delete_in_parquet ... ok
test sql::test_update_delete_version_resolution::test_full_workflow_insert_flush_update ... ok
test sql::test_update_delete_version_resolution::test_multi_version_query ... ok
test sql::test_update_delete_version_resolution::test_update_in_parquet ... ok
test sql::test_update_delete_version_resolution::test_update_in_fast_storage ... ok
test sql::test_update_delete_version_resolution::test_nanosecond_collision_handling ... ok
test storage::test_storage_compact::test_storage_compact_rejects_stream_and_empty_namespace ... ok
test storage::test_cold_storage_manifest::test_shared_table_manifest_isolation ... ok
test storage::test_cold_storage_manifest::test_cold_storage_version_resolution_after_update ... ok
test system::test_audit_logging::test_audit_log_for_table_access_change ... ok
test storage::test_cold_storage_manifest::test_cold_storage_delete_creates_tombstone ... ok
test system::test_live_queries_metadata::test_live_queries_metadata ... ok
test system::test_system_user_init::test_system_user_created_on_init ... ok
test system::test_system_user_init::test_system_user_initialization_idempotent ... ok
test system::test_system_users::test_global_remote_access_flag ... ok
test system::test_system_users::test_system_user_localhost_no_password ... ok
test storage::test_cold_storage_manifest::test_manifest_tracks_multiple_flush_segments ... ok
test system::test_system_users::test_system_user_remote_no_password_denied ... ok
test storage::test_cold_storage_manifest::test_shared_table_cold_storage_uses_manifest ... ok
test test_support::auth_helper::tests::test_authenticate_basic ... ok
test test_support::auth_helper::tests::test_create_basic_auth_header ... ok
test system::test_audit_logging::test_audit_log_for_user_management ... ok
test test_support::fixtures::tests::test_create_namespace ... ok
test test_support::fixtures::tests::test_generate_user_data ... ok
test system::test_system_users::test_system_user_remote_denied_by_default ... ok
test system::test_audit_logging::test_audit_log_password_masking ... ok
test test_support::fixtures::tests::test_setup_complete_environment ... ok
test storage::test_cold_storage_manifest::test_user_table_cold_storage_uses_manifest ... ok
test test_support::fixtures::tests::test_create_messages_table ... ok
test test_support::fixtures::tests::test_insert_sample_messages ... ok
test storage::test_storage_compact::test_storage_compact_table_and_all_commands ... ok
test system::test_system_users::test_system_user_remote_with_password ... ok
test sql::test_update_delete_version_resolution::test_query_performance_with_multiple_versions ... ok
test sql::test_pk_index_efficiency::test_user_table_pk_index_delete ... ok
test sql::test_pk_index_efficiency::test_user_table_pk_index_select ... ok

test result: ok. 188 passed; 0 failed; 3 ignored; 0 measured; 0 filtered out; finished in 38.41s

     Running tests/scenarios/test_scenarios.rs (/Users/jamal/git/KalamDB/target/debug/deps/test_scenarios-125dd94a2acc3b86)

running 47 tests
test scenario_04_iot_telemetry::test_scenario_04_anomaly_subscription ... ignored, SHARED table subscriptions not supported by design (FR-128, FR-129)
test scenario_03_shopping_cart::test_scenario_03_filtered_subscription ... ok
test scenario_01_chat_app::test_scenario_01_service_writes_as_user ... ok
test scenario_01_chat_app::test_scenario_01_stream_table_ttl ... ok
test scenario_02_offline_sync::test_scenario_02_offline_drift_resume ... ok
test scenario_03_shopping_cart::test_scenario_03_partial_flush ... ok
test scenario_01_chat_app::test_scenario_01_chat_app_core ... ok
test scenario_05_dashboards::test_scenario_05_schema_evolution ... ok
test scenario_04_iot_telemetry::test_scenario_04_wide_column_scan ... ok
test scenario_06_jobs::test_scenario_06_system_jobs_query ... ok
test scenario_07_collaborative::test_scenario_07_collaborative_editing ... ignored, SHARED table subscriptions not supported by design (FR-128, FR-129)
test scenario_05_dashboards::test_scenario_05_rbac_restrictions ... ok
test scenario_07_collaborative::test_scenario_07_presence_subscription ... ok
test scenario_05_dashboards::test_scenario_05_dashboards_shared_reference ... ok
test scenario_06_jobs::test_scenario_06_job_idempotency ... ok
test scenario_06_jobs::test_scenario_06_jobs_lifecycle ... ok
test scenario_06_jobs::test_scenario_06_job_status_transitions ... ok
test scenario_08_burst::test_scenario_08_subscription_reconnect ... ok
test scenario_09_ddl_while_active::test_scenario_09_concurrent_reads_during_ddl ... ok
test scenario_08_burst::test_scenario_08_burst_writes ... ok
test scenario_09_ddl_while_active::test_scenario_09_ddl_while_active ... ok
test scenario_09_ddl_while_active::test_scenario_09_drop_column ... ok
test scenario_02_offline_sync::test_scenario_02_changes_during_snapshot ... ok
test scenario_03_shopping_cart::test_scenario_03_shopping_cart_parallel ... ok
test scenario_10_multi_tenant::test_scenario_10_same_table_name_different_namespaces ... ok
test scenario_10_multi_tenant::test_scenario_10_multi_tenant_isolation ... ok
test scenario_11_multi_storage::test_scenario_11_storage_constraints ... ok
test scenario_10_multi_tenant::test_scenario_10_subscription_namespace_isolation ... ok
test scenario_04_iot_telemetry::test_scenario_04_iot_telemetry_5k_rows ... ok
test scenario_12_performance::test_scenario_12_insert_performance ... ok
test scenario_11_multi_storage::test_scenario_11_multi_storage_basic ... ok
test test_support::auth_helper::tests::test_authenticate_basic ... ok
test test_support::auth_helper::tests::test_create_basic_auth_header ... ok
test scenario_13_soak_test::test_scenario_13_schema_evolution_under_load ... ok
test scenario_12_performance::test_scenario_12_query_time_growth ... ok
test test_support::fixtures::tests::test_generate_user_data ... ok
test scenario_08_burst::test_scenario_08_sustained_load ... ok
test test_support::fixtures::tests::test_create_namespace ... ok
test test_support::fixtures::tests::test_create_messages_table ... ok
test test_support::fixtures::tests::test_insert_sample_messages ... ok
test scenario_11_multi_storage::test_scenario_11_table_types_storage ... ok
test test_support::fixtures::tests::test_setup_complete_environment ... ok
test scenario_12_performance::test_scenario_12_memory_baseline ... ok
test scenario_12_performance::test_scenario_12_subscription_snapshot_timing ... ok
test scenario_13_soak_test::test_scenario_13_concurrent_read_write ... ok
test scenario_02_offline_sync::test_scenario_02_offline_sync_parallel ... ok
test scenario_13_soak_test::test_scenario_13_mixed_workload_soak ... ok

test result: ok. 45 passed; 0 failed; 2 ignored; 0 measured; 0 filtered out; finished in 49.66s

     Running tests/testserver/test_testserver.rs (/Users/jamal/git/KalamDB/target/debug/deps/test_testserver-ff953c6966ef49c1)

running 34 tests
test cluster::test_cluster_snapshots_http::test_cluster_snapshot_creation_and_reuse ... ignored, RocksDB lock not released during server restart - requires explicit AppContext cleanup
test cluster::test_cluster_commands_http::test_cluster_commands_over_http ... ok
test cluster::test_cluster_views_http::test_system_cluster_views_over_http ... ok
test flush::test_flush_jobs_http::test_flush_table_persists_job_over_http ... ok
test sql::test_naming_validation_http::test_naming_validation_over_http ... ok
test manifest::test_manifest_flush_http_v2::test_shared_flush_creates_manifest_json_over_http ... ok
test storage::test_storage_abstraction_http::test_storage_abstraction_over_http ... ok
test storage::test_storage_management_http::test_storage_management_over_http ... ok
test sql::test_dml_parameters_http::test_parameterized_dml_over_http ... ok
test observability::test_production_observability_http::test_observability_system_tables_and_jobs_over_http ... ok
test sql::test_namespace_validation_http::test_namespace_validation_over_http ... ok
test sql::test_quickstart_http::test_quickstart_workflow_over_http ... ok
test subscription::test_live_query_deletes::test_live_query_detects_deletes ... ok
test subscription::test_live_query_inserts::test_live_query_detects_inserts ... ok
test subscription::test_live_query_updates::test_live_query_detects_updates ... ok
test tables::test_stream_tables_http::test_stream_tables_over_http ... ok
test flush::test_pk_uniqueness_hot_cold_http::test_pk_uniqueness_hot_and_cold_over_http ... ok
test test_http_test_server_smoke::test_http_test_server_executes_sql_over_http ... ok
test test_support::auth_helper::tests::test_authenticate_basic ... ok
test test_support::auth_helper::tests::test_create_basic_auth_header ... ok
test stress::test_stress_and_memory_http::test_stress_smoke_over_http ... ok
test manifest::test_manifest_persistence_http::test_user_table_manifest_persistence_over_http ... ok
test test_support::fixtures::tests::test_generate_user_data ... ok
test test_support::fixtures::tests::test_create_messages_table ... ok
test test_support::fixtures::tests::test_setup_complete_environment ... ok
test system::test_system_tables_http::test_system_tables_queryable_over_http ... ok
test test_support::fixtures::tests::test_create_namespace ... ok
test test_support::fixtures::tests::test_insert_sample_messages ... ok
test sql::test_user_sql_commands_http::test_user_sql_commands_over_http ... ok
test flush::test_flush_unregistered_suite_http::test_flush_concurrency_and_correctness_over_http ... ok
test flush::test_flush_policy_verification_http::test_flush_policy_and_parquet_output_over_http ... ok
test subscription::test_stream_ttl_eviction_sql::test_stream_ttl_eviction_from_sql_script ... ok
test tables::test_shared_tables_http::test_shared_tables_lifecycle_over_http ... ok
test tables::test_user_tables_http::test_user_tables_lifecycle_and_isolation_over_http ... ok

test result: ok. 33 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 26.02s

   Doc-tests kalamdb_server

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

