# SQL Tests (backend/tests/misc/sql)

## Standard Steps
1. Arrange test tables and seed rows.
2. Run the SQL operation described by the test name.
3. Assert query results, row counts, and correctness.

## Tests
- test_01_combined_data_count_and_select — [backend/tests/misc/sql/test_combined_data_integrity.rs](backend/tests/misc/sql/test_combined_data_integrity.rs#L32)
- test_02_combined_data_aggregations — [backend/tests/misc/sql/test_combined_data_integrity.rs](backend/tests/misc/sql/test_combined_data_integrity.rs#L196)
- test_03_combined_data_filtering — [backend/tests/misc/sql/test_combined_data_integrity.rs](backend/tests/misc/sql/test_combined_data_integrity.rs#L323)
- test_04_combined_data_integrity_verification — [backend/tests/misc/sql/test_combined_data_integrity.rs](backend/tests/misc/sql/test_combined_data_integrity.rs#L484)
- test_05_multiple_flush_cycles — [backend/tests/misc/sql/test_combined_data_integrity.rs](backend/tests/misc/sql/test_combined_data_integrity.rs#L603)
- test_06_soft_delete_operations — [backend/tests/misc/sql/test_combined_data_integrity.rs](backend/tests/misc/sql/test_combined_data_integrity.rs#L676)
- test_explain_command_admin_allowed — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L15)
- test_explain_command_user_denied — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L41)
- test_set_command_admin_allowed — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L65)
- test_set_command_user_denied — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L82)
- test_show_all_admin_allowed — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L100)
- test_show_all_user_denied — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L120)
- test_show_columns_admin_allowed — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L138)
- test_show_columns_user_denied — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L160)
- test_describe_datafusion_style_admin_allowed — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L187)
- test_describe_datafusion_style_user_denied — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L209)
- test_system_role_datafusion_commands — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L232)
- test_service_role_datafusion_commands_denied — [backend/tests/misc/sql/test_datafusion_commands.rs](backend/tests/misc/sql/test_datafusion_commands.rs#L264)
- test_datatypes_preservation_values — [backend/tests/misc/sql/test_datatypes_preservation.rs](backend/tests/misc/sql/test_datatypes_preservation.rs#L26)
- test_datetime_with_timezone_offset_parsing — [backend/tests/misc/sql/test_datetime_timezone_storage.rs](backend/tests/misc/sql/test_datetime_timezone_storage.rs#L9)
- test_timezone_conversion_examples — [backend/tests/misc/sql/test_datetime_timezone_storage.rs](backend/tests/misc/sql/test_datetime_timezone_storage.rs#L46)
- test_update_complex_predicate_and — [backend/tests/misc/sql/test_dml_complex.rs](backend/tests/misc/sql/test_dml_complex.rs#L18)
- test_update_complex_predicate_or — [backend/tests/misc/sql/test_dml_complex.rs](backend/tests/misc/sql/test_dml_complex.rs#L91)
- test_delete_complex_predicate — [backend/tests/misc/sql/test_dml_complex.rs](backend/tests/misc/sql/test_dml_complex.rs#L156)
- test_update_across_flush_boundary — [backend/tests/misc/sql/test_dml_complex.rs](backend/tests/misc/sql/test_dml_complex.rs#L221)
- test_delete_across_flush_boundary — [backend/tests/misc/sql/test_dml_complex.rs](backend/tests/misc/sql/test_dml_complex.rs#L290)
- test_empty_credentials_401 — [backend/tests/misc/sql/test_edge_cases.rs](backend/tests/misc/sql/test_edge_cases.rs#L20)
- test_malformed_basic_auth_400 — [backend/tests/misc/sql/test_edge_cases.rs](backend/tests/misc/sql/test_edge_cases.rs#L42)
- test_concurrent_auth_no_race_conditions — [backend/tests/misc/sql/test_edge_cases.rs](backend/tests/misc/sql/test_edge_cases.rs#L68)
- test_deleted_user_denied — [backend/tests/misc/sql/test_edge_cases.rs](backend/tests/misc/sql/test_edge_cases.rs#L116)
- test_role_change_applies_next_request — [backend/tests/misc/sql/test_edge_cases.rs](backend/tests/misc/sql/test_edge_cases.rs#L153)
- test_maximum_password_length — [backend/tests/misc/sql/test_edge_cases.rs](backend/tests/misc/sql/test_edge_cases.rs#L191)
- test_explain_username_equality — [backend/tests/misc/sql/test_explain_index_usage.rs](backend/tests/misc/sql/test_explain_index_usage.rs#L12)
- test_explain_username_like — [backend/tests/misc/sql/test_explain_index_usage.rs](backend/tests/misc/sql/test_explain_index_usage.rs#L33)
- test_explain_job_status — [backend/tests/misc/sql/test_explain_index_usage.rs](backend/tests/misc/sql/test_explain_index_usage.rs#L54)
- test_index_usage_log_output — [backend/tests/misc/sql/test_explain_index_usage.rs](backend/tests/misc/sql/test_explain_index_usage.rs#L70)
- test_user_table_pk_index_update — [backend/tests/misc/sql/test_pk_index_efficiency.rs](backend/tests/misc/sql/test_pk_index_efficiency.rs#L27)
- test_shared_table_pk_index_update — [backend/tests/misc/sql/test_pk_index_efficiency.rs](backend/tests/misc/sql/test_pk_index_efficiency.rs#L189)
- test_user_table_pk_index_select — [backend/tests/misc/sql/test_pk_index_efficiency.rs](backend/tests/misc/sql/test_pk_index_efficiency.rs#L320)
- test_user_table_pk_index_delete — [backend/tests/misc/sql/test_pk_index_efficiency.rs](backend/tests/misc/sql/test_pk_index_efficiency.rs#L424)
- test_user_table_pk_index_update_after_flush — [backend/tests/misc/sql/test_pk_index_efficiency.rs](backend/tests/misc/sql/test_pk_index_efficiency.rs#L541)
- test_shared_table_pk_index_update_after_flush — [backend/tests/misc/sql/test_pk_index_efficiency.rs](backend/tests/misc/sql/test_pk_index_efficiency.rs#L699)
- test_user_table_pk_index_isolation — [backend/tests/misc/sql/test_pk_index_efficiency.rs](backend/tests/misc/sql/test_pk_index_efficiency.rs#L804)
- test_update_returns_correct_row_count — [backend/tests/misc/sql/test_row_count_behavior.rs](backend/tests/misc/sql/test_row_count_behavior.rs#L43)
- test_update_same_values_still_counts — [backend/tests/misc/sql/test_row_count_behavior.rs](backend/tests/misc/sql/test_row_count_behavior.rs#L103)
- test_delete_returns_correct_row_count — [backend/tests/misc/sql/test_row_count_behavior.rs](backend/tests/misc/sql/test_row_count_behavior.rs#L144)
- test_delete_already_deleted_returns_zero — [backend/tests/misc/sql/test_row_count_behavior.rs](backend/tests/misc/sql/test_row_count_behavior.rs#L202)
- test_delete_multiple_rows_count — [backend/tests/misc/sql/test_row_count_behavior.rs](backend/tests/misc/sql/test_row_count_behavior.rs#L252)
- test_public_table_read_only_for_users — [backend/tests/misc/sql/test_shared_access.rs](backend/tests/misc/sql/test_shared_access.rs#L15)
- test_private_table_service_dba_only — [backend/tests/misc/sql/test_shared_access.rs](backend/tests/misc/sql/test_shared_access.rs#L103)
- test_shared_table_defaults_to_private — [backend/tests/misc/sql/test_shared_access.rs](backend/tests/misc/sql/test_shared_access.rs#L193)
- test_change_access_level_requires_privileges — [backend/tests/misc/sql/test_shared_access.rs](backend/tests/misc/sql/test_shared_access.rs#L277)
- test_user_cannot_modify_public_table — [backend/tests/misc/sql/test_shared_access.rs](backend/tests/misc/sql/test_shared_access.rs#L355)
- test_access_level_only_on_shared_tables — [backend/tests/misc/sql/test_shared_access.rs](backend/tests/misc/sql/test_shared_access.rs#L463)
- test_alter_access_level_only_on_shared_tables — [backend/tests/misc/sql/test_shared_access.rs](backend/tests/misc/sql/test_shared_access.rs#L518)
- test_stream_table_ttl_eviction_with_select — [backend/tests/misc/sql/test_stream_ttl_eviction.rs](backend/tests/misc/sql/test_stream_ttl_eviction.rs#L32)
- test_stream_table_select_with_projection — [backend/tests/misc/sql/test_stream_ttl_eviction.rs](backend/tests/misc/sql/test_stream_ttl_eviction.rs#L181)
- test_stream_table_select_with_limit — [backend/tests/misc/sql/test_stream_ttl_eviction.rs](backend/tests/misc/sql/test_stream_ttl_eviction.rs#L304)
- test_system_users_username_index — [backend/tests/misc/sql/test_system_table_index_usage.rs](backend/tests/misc/sql/test_system_table_index_usage.rs#L40)
- test_system_jobs_status_index — [backend/tests/misc/sql/test_system_table_index_usage.rs](backend/tests/misc/sql/test_system_table_index_usage.rs#L147)
- test_system_live_queries_basic — [backend/tests/misc/sql/test_system_table_index_usage.rs](backend/tests/misc/sql/test_system_table_index_usage.rs#L311)
- test_index_performance_scaling — [backend/tests/misc/sql/test_system_table_index_usage.rs](backend/tests/misc/sql/test_system_table_index_usage.rs#L397)
- test_update_in_fast_storage — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L22)
- test_update_in_parquet — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L97)
- test_full_workflow_insert_flush_update — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L177)
- test_multi_version_query — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L256)
- test_delete_excludes_record — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L337)
- test_delete_in_parquet — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L386)
- test_concurrent_updates — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L446)
- test_nanosecond_collision_handling — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L526)
- test_query_performance_with_multiple_versions — [backend/tests/misc/sql/test_update_delete_version_resolution.rs](backend/tests/misc/sql/test_update_delete_version_resolution.rs#L585)
