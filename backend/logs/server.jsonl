{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     4444ee8                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 16:35:10 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.351+02:00"}
{"level":"INFO","line":139,"message":"File descriptor limit: 1048575","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T21:16:59.356+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (26.38ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.382+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T21:16:59.416+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T21:16:59.416+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T21:16:59.416+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=10, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T21:16:59.417+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T21:16:59.423+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (41.33ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.424+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 0 entries (0.22ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.424+02:00"}
{"level":"INFO","line":87,"message":"Initializing system schema at v1 (first startup)","target":"kalamdb_system::initialization","thread":"main","timestamp":"2025-12-09T21:16:59.424+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.26ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.424+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.424+02:00"}
{"level":"INFO","line":135,"message":"No storages found, creating default 'local' storage","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.425+02:00"}
{"level":"INFO","line":150,"message":"Default 'local' storage created successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.425+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.74ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.425+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.425+02:00"}
{"level":"INFO","line":280,"message":"No existing tables to load","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (0.38ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"INFO","line":531,"message":"âœ“ Created system user 'root' (localhost-only access, no password required)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"INFO","line":535,"message":"  To enable remote access, set a password: ALTER USER root SET PASSWORD '...'","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":558,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":559,"message":"â•‘                    âš ï¸  SECURITY NOTICE âš ï¸                           â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":560,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":561,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":562,"message":"â•‘  Root user has NO PASSWORD (localhost-only access enabled)       â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":563,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":564,"message":"â•‘  SECURITY ENFORCEMENT:                                           â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":565,"message":"â•‘  â€¢ Remote authentication is BLOCKED for users with no password   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":566,"message":"â•‘  â€¢ Root can only connect from localhost (127.0.0.1)              â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":567,"message":"â•‘  â€¢ This configuration is secure by design                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":568,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":569,"message":"â•‘  TO ENABLE REMOTE ACCESS:                                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":570,"message":"â•‘  Set a strong password for the root user:                        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.426+02:00"}
{"level":"WARN","line":571,"message":"â•‘     ALTER USER root SET PASSWORD 'strong-password-here';         â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"WARN","line":572,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"WARN","line":573,"message":"â•‘  Note: allow_remote_access config is currently: DISABLED               â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"WARN","line":581,"message":"â•‘  (Remote access still requires password for system users)        â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"WARN","line":582,"message":"â•‘                                                                   â•‘","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"WARN","line":583,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.82ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 70.96ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=10, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.427+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.428+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.428+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T21:16:59.428+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T21:16:59.428+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:16:59.431+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:16:59.432+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:16:59.434+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:16:59.435+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:16:59.436+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T21:16:59.437+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:16:59.438+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:16:59.439+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:16:59.441+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:16:59.442+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T21:16:59.443+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:06.571+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:07.357+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:07.829+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:08.177+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:08.414+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:09.019+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:09.387+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:09.741+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:09.970+02:00"}
{"level":"WARN","line":235,"message":"âš ï¸  Table not found | sql='select * from chat.messages' | user='root' | role='System' | error='Error during planning: table 'kalam.chat.messages' not found'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:10.228+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.conversations (type: User, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.417+02:00"}
{"level":"INFO","line":188,"message":"Table definition for chat.conversations saved to information_schema.tables (version 1)","target":"kalamdb_core::sql::executor::helpers::tables","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.418+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.460+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.461+02:00"}
{"level":"INFO","line":275,"message":"âœ… USER TABLE created: chat.conversations | storage: local | columns: 3 | pk: id | system_columns: [_seq, _deleted]","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.461+02:00"}
{"level":"INFO","line":69,"message":"âœ… CREATE TABLE succeeded: User table chat.conversations created successfully","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.461+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.messages (type: User, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.463+02:00"}
{"level":"INFO","line":188,"message":"Table definition for chat.messages saved to information_schema.tables (version 1)","target":"kalamdb_core::sql::executor::helpers::tables","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.463+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.505+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.505+02:00"}
{"level":"INFO","line":275,"message":"âœ… USER TABLE created: chat.messages | storage: local | columns: 5 | pk: id | system_columns: [_seq, _deleted]","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.505+02:00"}
{"level":"INFO","line":69,"message":"âœ… CREATE TABLE succeeded: User table chat.messages created successfully","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.505+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: chat.typing_events (type: Stream, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.507+02:00"}
{"level":"INFO","line":188,"message":"Table definition for chat.typing_events saved to information_schema.tables (version 1)","target":"kalamdb_core::sql::executor::helpers::tables","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.507+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.507+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.507+02:00"}
{"level":"INFO","line":723,"message":"âœ… STREAM TABLE created: chat.typing_events | columns: 5 | TTL: 30s | auto_increment: false | system_columns: none","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.507+02:00"}
{"level":"INFO","line":69,"message":"âœ… CREATE TABLE succeeded: Stream table chat.typing_events created successfully","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:17:12.507+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: b2fc5c490bbf46ecadc7457a84ba9c44 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:17.383+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=b2fc5c490bbf46ecadc7457a84ba9c44, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:17.386+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: b2fc5c490bbf46ecadc7457a84ba9c44 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:17.389+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-3a82b08978518a72, sql='select * from chat.messages;', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:17.391+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:17.391+02:00"}
{"level":"ERROR","line":169,"message":"Failed to register subscription sub-3a82b08978518a72: Not found: Table not found: chat.messages; (sql: 'select * from chat.messages;')","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:17.391+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:23.448+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: b2fc5c490bbf46ecadc7457a84ba9c44","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:17:23.448+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 0697c433fce24b1a9ade547016b913d5 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:29.358+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=0697c433fce24b1a9ade547016b913d5, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:29.360+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 0697c433fce24b1a9ade547016b913d5 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:29.361+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-3a82b08978518a72, sql='select * from chat.messages;', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:29.363+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:29.363+02:00"}
{"level":"ERROR","line":169,"message":"Failed to register subscription sub-3a82b08978518a72: Not found: Table not found: chat.messages; (sql: 'select * from chat.messages;')","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:29.368+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.767+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.767+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 0697c433fce24b1a9ade547016b913d5 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.769+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.769+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 0 rows (has_more: false, last_seq: None)","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.779+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.784+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 0 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.784+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.784+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-6447e649c32dc514 with 0 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:34.784+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:17:37.795+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:17:38.245+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:17:38.467+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 0697c433fce24b1a9ade547016b913d5","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:49.182+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:49.182+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-6447e649c32dc514, sql='select * from chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.198+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.199+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-6447e649c32dc514 for connection 0697c433fce24b1a9ade547016b913d5 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.200+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.200+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 3 rows (has_more: false, last_seq: Some(SeqId(256861938768838656)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.207+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-6447e649c32dc514, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.207+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 3 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.207+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.207+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-6447e649c32dc514 with 3 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:17:51.207+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-6447e649c32dc514 for connection 0697c433fce24b1a9ade547016b913d5","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:20.568+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-6447e649c32dc514","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:20.568+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-14686c1baaf36729, sql='SELECT * FROM chat.messages WHERE conversation_id = 1', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(20) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.409+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=20 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.409+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-14686c1baaf36729 for connection 0697c433fce24b1a9ade547016b913d5 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.410+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=20, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.411+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 3 rows (has_more: false, last_seq: Some(SeqId(256861938768838656)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.419+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-14686c1baaf36729, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.419+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 3 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.419+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.419+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-14686c1baaf36729 with 3 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:18:22.419+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:18:25.646+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:18:25.813+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:18:26.007+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:18:26.193+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 8c70639e8e064497b6553cc0e2f5662a (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:11.322+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=8c70639e8e064497b6553cc0e2f5662a, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:11.327+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 8c70639e8e064497b6553cc0e2f5662a as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.231+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub_1765307951317294000, sql='select * from chat.messages', user_id=root, options=SubscriptionOptions { batch_size: None, last_rows: None }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.233+02:00"}
{"level":"INFO","line":83,"message":"Using default batch size=1000 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.233+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub_1765307951317294000 for connection 8c70639e8e064497b6553cc0e2f5662a on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.233+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.233+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 7 rows (has_more: false, last_seq: Some(SeqId(256862138950385664)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.238+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub_1765307951317294000, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.238+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 7 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.238+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub_1765307951317294000","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.238+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub_1765307951317294000 with 7 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:19:12.238+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-14686c1baaf36729 for connection 0697c433fce24b1a9ade547016b913d5","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:56.581+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-14686c1baaf36729","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:56.582+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.389+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.390+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 0697c433fce24b1a9ade547016b913d5 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.391+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.391+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 7 rows (has_more: false, last_seq: Some(SeqId(256862138950385664)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.398+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.398+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 7 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.398+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.398+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 7 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:58.398+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection 0697c433fce24b1a9ade547016b913d5","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:59.047+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:19:59.047+02:00"}
{"level":"INFO","line":43,"message":"ğŸ”¨ CREATE TABLE request: test_wasm_1765308045498.messages (type: User, user: root, role: System)","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:20:47.380+02:00"}
{"level":"INFO","line":188,"message":"Table definition for test_wasm_1765308045498.messages saved to information_schema.tables (version 1)","target":"kalamdb_core::sql::executor::helpers::tables","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:20:47.380+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table test_wasm_1765308045498.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:20:47.429+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table test_wasm_1765308045498.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:20:47.429+02:00"}
{"level":"INFO","line":275,"message":"âœ… USER TABLE created: test_wasm_1765308045498.messages | storage: local | columns: 2 | pk: id | system_columns: [_seq, _deleted]","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:20:47.430+02:00"}
{"level":"INFO","line":69,"message":"âœ… CREATE TABLE succeeded: User table test_wasm_1765308045498.messages created successfully","target":"kalamdb_core::sql::executor::helpers::table_creation","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:20:47.430+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: ffdd69dedda24a7d87dc26acc896caa2 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:49.250+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=ffdd69dedda24a7d87dc26acc896caa2, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:49.253+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: ffdd69dedda24a7d87dc26acc896caa2 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.144+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-a0d0c5012ae612f3, sql='SELECT * FROM test_wasm_1765308045498.messages', user_id=root, options=SubscriptionOptions { batch_size: None, last_rows: None }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.149+02:00"}
{"level":"INFO","line":83,"message":"Using default batch size=1000 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.149+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-a0d0c5012ae612f3 for connection ffdd69dedda24a7d87dc26acc896caa2 on test_wasm_1765308045498:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.150+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=test_wasm_1765308045498:messages, type=User, limit=1000, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.150+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=test_wasm_1765308045498:messages, returned 2 rows (has_more: false, last_seq: Some(SeqId(256862738932989952)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.154+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-a0d0c5012ae612f3, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.154+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 2 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.154+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-a0d0c5012ae612f3","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.154+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-a0d0c5012ae612f3 with 2 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:50.154+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'test_wasm_1765308045498.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:20:54.071+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-a0d0c5012ae612f3 for connection ffdd69dedda24a7d87dc26acc896caa2","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:56.074+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-a0d0c5012ae612f3","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:56.074+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: None","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:56.074+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: ffdd69dedda24a7d87dc26acc896caa2","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:20:56.074+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: d11274e347d44288bf48b78ac838e7b5 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.493+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=d11274e347d44288bf48b78ac838e7b5, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.498+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: d11274e347d44288bf48b78ac838e7b5 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.502+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.504+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.504+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection d11274e347d44288bf48b78ac838e7b5 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.505+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.505+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 7 rows (has_more: false, last_seq: Some(SeqId(256862138950385664)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.512+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.512+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 7 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.512+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.512+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 7 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:07.512+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-86481c36e213446d for connection d11274e347d44288bf48b78ac838e7b5","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:27.009+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-86481c36e213446d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:27.009+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.071+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.071+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection d11274e347d44288bf48b78ac838e7b5 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.072+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.073+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 7 rows (has_more: false, last_seq: Some(SeqId(256862138950385664)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.078+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.078+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 7 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.078+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.078+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 7 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:22:29.078+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:31:16.096+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:31:16.096+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 0697c433fce24b1a9ade547016b913d5","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:31:16.096+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: d11274e347d44288bf48b78ac838e7b5","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:31:16.096+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 73b4891dbccd4502b931bcc3df7b7def (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:53.970+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=73b4891dbccd4502b931bcc3df7b7def, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:53.976+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 73b4891dbccd4502b931bcc3df7b7def as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:53.982+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:53.985+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:53.985+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 73b4891dbccd4502b931bcc3df7b7def on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:53.989+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:53.989+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 7 rows (has_more: false, last_seq: Some(SeqId(256862138950385664)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:54.019+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:54.019+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 7 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:54.019+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:54.019+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 7 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:31:54.019+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:31:57.822+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:31:58.021+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:31:58.298+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:32:11.009+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 73b4891dbccd4502b931bcc3df7b7def","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T21:32:11.010+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 67221792a54e4e1686ca73a277a2b8f4 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.130+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=67221792a54e4e1686ca73a277a2b8f4, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.134+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 67221792a54e4e1686ca73a277a2b8f4 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.136+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.137+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.139+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 67221792a54e4e1686ca73a277a2b8f4 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.139+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.139+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.145+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.145+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.145+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.145+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:13.145+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-86481c36e213446d for connection 67221792a54e4e1686ca73a277a2b8f4","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:14.575+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-86481c36e213446d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:14.576+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.822+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.823+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 67221792a54e4e1686ca73a277a2b8f4 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.824+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.824+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.831+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.832+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.832+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.832+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:18.832+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-86481c36e213446d for connection 67221792a54e4e1686ca73a277a2b8f4","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:46.582+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-86481c36e213446d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:46.583+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.166+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.166+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 67221792a54e4e1686ca73a277a2b8f4 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.167+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.167+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.175+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.176+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.176+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.176+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:32:48.176+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-86481c36e213446d for connection 67221792a54e4e1686ca73a277a2b8f4","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:34:37.770+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-86481c36e213446d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:34:37.770+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:34:52.985+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 67221792a54e4e1686ca73a277a2b8f4","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T21:34:52.985+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: d489af3b764747fd89034d758cba75ab (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.298+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=d489af3b764747fd89034d758cba75ab, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.301+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: d489af3b764747fd89034d758cba75ab as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.303+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.307+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.308+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection d489af3b764747fd89034d758cba75ab on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.309+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.309+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.314+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.314+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.314+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.314+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:16.315+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:24.449+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: d489af3b764747fd89034d758cba75ab","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:35:24.449+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: f0692d8abad345c888b56afb267c8a45 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.079+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=f0692d8abad345c888b56afb267c8a45, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.081+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: f0692d8abad345c888b56afb267c8a45 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.082+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.084+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.085+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection f0692d8abad345c888b56afb267c8a45 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.087+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.087+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.094+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.094+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.094+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.094+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:35:27.094+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-86481c36e213446d for connection f0692d8abad345c888b56afb267c8a45","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:02.417+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-86481c36e213446d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:02.417+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.451+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.451+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection f0692d8abad345c888b56afb267c8a45 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.452+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.452+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.472+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.472+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.472+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.472+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:04.473+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-86481c36e213446d for connection f0692d8abad345c888b56afb267c8a45","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:09.653+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-86481c36e213446d","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:09.654+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.167+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.167+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection f0692d8abad345c888b56afb267c8a45 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.168+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.168+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.174+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.174+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.174+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.174+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:11.174+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:54.959+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: f0692d8abad345c888b56afb267c8a45","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:36:54.960+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: e927063284b943818f3755a9deaae65c (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.146+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=e927063284b943818f3755a9deaae65c, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.148+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: e927063284b943818f3755a9deaae65c as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.149+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.151+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.151+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection e927063284b943818f3755a9deaae65c on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.152+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.153+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.158+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.158+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.159+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.159+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:02.159+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:56.837+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: e927063284b943818f3755a9deaae65c","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T21:37:56.837+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: ffc3cf1d15f34c90bf2340314f5679b9 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.768+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=ffc3cf1d15f34c90bf2340314f5679b9, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.771+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: ffc3cf1d15f34c90bf2340314f5679b9 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.772+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.774+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.774+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection ffc3cf1d15f34c90bf2340314f5679b9 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.778+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.778+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.785+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.786+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.786+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.786+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:02.786+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:15.293+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: ffc3cf1d15f34c90bf2340314f5679b9","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:38:15.293+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 7cec07cfe36146dfac274ecea9ad25d1 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.478+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=7cec07cfe36146dfac274ecea9ad25d1, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.488+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 7cec07cfe36146dfac274ecea9ad25d1 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.490+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.491+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.491+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 7cec07cfe36146dfac274ecea9ad25d1 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.492+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.492+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.497+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.497+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.497+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.497+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:38:17.497+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:39:36.441+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 7cec07cfe36146dfac274ecea9ad25d1","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:39:36.442+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: cac81ba079d944839f31275da0f26c1b (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.971+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=cac81ba079d944839f31275da0f26c1b, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.973+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: cac81ba079d944839f31275da0f26c1b as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.974+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.978+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.979+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection cac81ba079d944839f31275da0f26c1b on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.981+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.981+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.989+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.989+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.990+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.990+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:39:53.990+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:41:35.610+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: cac81ba079d944839f31275da0f26c1b","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:41:35.610+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: a36225ab33e445b190291541f89e4e12 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.049+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=a36225ab33e445b190291541f89e4e12, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.051+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: a36225ab33e445b190291541f89e4e12 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.053+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.057+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.057+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection a36225ab33e445b190291541f89e4e12 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.058+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.058+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.070+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.070+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.070+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.070+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:44.070+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:55.989+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: a36225ab33e445b190291541f89e4e12","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T21:41:55.990+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: a089ceebe4e94cb6812dfbf58fbc9b3e (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.983+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=a089ceebe4e94cb6812dfbf58fbc9b3e, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.986+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: a089ceebe4e94cb6812dfbf58fbc9b3e as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.987+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.995+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.995+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection a089ceebe4e94cb6812dfbf58fbc9b3e on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.995+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.995+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:41:59.999+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:42:00.000+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:42:00.000+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:42:00.000+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:42:00.000+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:02.206+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: a089ceebe4e94cb6812dfbf58fbc9b3e","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:02.206+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 5c4dedc4239c4c48891a4a4f211f9e11 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.672+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=5c4dedc4239c4c48891a4a4f211f9e11, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.676+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 5c4dedc4239c4c48891a4a4f211f9e11 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.676+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.680+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.680+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 5c4dedc4239c4c48891a4a4f211f9e11 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.681+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.681+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.686+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.687+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.687+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.687+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:15.687+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:27.374+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 5c4dedc4239c4c48891a4a4f211f9e11","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:44:27.375+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 1ea824698ea94bf28ba4d8e8696692ae (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.475+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=1ea824698ea94bf28ba4d8e8696692ae, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.477+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 1ea824698ea94bf28ba4d8e8696692ae as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.478+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.482+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.482+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 1ea824698ea94bf28ba4d8e8696692ae on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.482+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.482+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.486+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.486+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.486+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.486+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:44:36.486+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:45:01.002+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 1ea824698ea94bf28ba4d8e8696692ae","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:45:01.002+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 5c514900dbe64ab581c70fa4153a93a9 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.505+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=5c514900dbe64ab581c70fa4153a93a9, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.509+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 5c514900dbe64ab581c70fa4153a93a9 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.516+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.518+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.519+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 5c514900dbe64ab581c70fa4153a93a9 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.520+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.520+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.529+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.529+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.529+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.529+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:46:11.530+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:47:52.771+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 5c514900dbe64ab581c70fa4153a93a9","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:47:52.773+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 4495ef6ee8524632a23b2efec19488e2 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.023+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=4495ef6ee8524632a23b2efec19488e2, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.025+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 4495ef6ee8524632a23b2efec19488e2 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.029+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-86481c36e213446d, sql='SELECT * FROM chat.messages order by id asc', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.033+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.033+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-86481c36e213446d for connection 4495ef6ee8524632a23b2efec19488e2 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.034+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.034+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.038+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-86481c36e213446d, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.038+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.038+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-86481c36e213446d","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.038+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-86481c36e213446d with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:27.038+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:46.787+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 4495ef6ee8524632a23b2efec19488e2","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:48:46.788+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: c7d2834d8b974324a3eb9247549ad01b (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.666+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=c7d2834d8b974324a3eb9247549ad01b, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.668+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: c7d2834d8b974324a3eb9247549ad01b as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.670+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-b10770aa1ff1df58, sql='SELECT * FROM system.namespaces LIMIT 100', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.672+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.674+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-b10770aa1ff1df58 for connection c7d2834d8b974324a3eb9247549ad01b on system:namespaces","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.675+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=system:namespaces, type=System, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.675+02:00"}
{"level":"ERROR","line":244,"message":"âŒ SQL planning failed | sql='SELECT * FROM system.namespaces ORDER BY _seq DESC LIMIT 101' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.namespaces.namespace_id, system.namespaces.name, system.namespaces.created_at, system.namespaces.options, system.namespaces.table_count, system.namespaces.namespace_id, system.namespaces.name, system.namespaces.created_at, system.namespaces.options, system.namespaces.table_count.'","target":"sql::plan","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.683+02:00"}
{"level":"ERROR","line":169,"message":"Failed to register subscription sub-b10770aa1ff1df58: Execution error: Schema error: No field named _seq. Valid fields are system.namespaces.namespace_id, system.namespaces.name, system.namespaces.created_at, system.namespaces.options, system.namespaces.table_count, system.namespaces.namespace_id, system.namespaces.name, system.namespaces.created_at, system.namespaces.options, system.namespaces.table_count. (sql: 'SELECT * FROM system.namespaces LIMIT 100')","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:48:56.684+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.313+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.314+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection c7d2834d8b974324a3eb9247549ad01b on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.315+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.315+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.320+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.320+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.320+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.320+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:09.320+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:27.129+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: c7d2834d8b974324a3eb9247549ad01b","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:49:27.132+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 4f06cc4ebaff4a81ab84e9aaa51d25cb (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.511+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=4f06cc4ebaff4a81ab84e9aaa51d25cb, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.513+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 4f06cc4ebaff4a81ab84e9aaa51d25cb as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.514+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.517+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.517+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 4f06cc4ebaff4a81ab84e9aaa51d25cb on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.517+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.517+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.522+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.522+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.522+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.522+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:50:04.522+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 5fd1bf737ca54548b8701c198ba557f3 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.967+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=5fd1bf737ca54548b8701c198ba557f3, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.972+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 5fd1bf737ca54548b8701c198ba557f3 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.973+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.975+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.975+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 5fd1bf737ca54548b8701c198ba557f3 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.976+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.976+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.982+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.982+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.982+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.982+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:50:23.982+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:53:08.715+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 5fd1bf737ca54548b8701c198ba557f3","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T21:53:08.715+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:53:09.532+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 4f06cc4ebaff4a81ab84e9aaa51d25cb","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T21:53:09.532+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: effa8befd7c64fa6a82fd8d4f87d5838 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.792+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=effa8befd7c64fa6a82fd8d4f87d5838, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.795+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: effa8befd7c64fa6a82fd8d4f87d5838 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.796+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.797+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.797+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection effa8befd7c64fa6a82fd8d4f87d5838 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.798+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.798+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.804+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.804+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.804+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.804+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:10.804+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:55.571+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: effa8befd7c64fa6a82fd8d4f87d5838","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:55:55.572+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 535f59edd62247d39aed359407691f44 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.192+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=535f59edd62247d39aed359407691f44, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.194+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 535f59edd62247d39aed359407691f44 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.195+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.197+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.197+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 535f59edd62247d39aed359407691f44 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.198+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.198+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.206+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.206+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.206+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.207+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:56:05.207+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:57:24.452+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 535f59edd62247d39aed359407691f44","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T21:57:24.453+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 104f5526a3814e5798857a140ecfd7dd (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.527+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=104f5526a3814e5798857a140ecfd7dd, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.535+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 104f5526a3814e5798857a140ecfd7dd as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.537+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.540+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.541+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 104f5526a3814e5798857a140ecfd7dd on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.544+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.544+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.560+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.560+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.560+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.560+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:57:59.561+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:59:00.546+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 104f5526a3814e5798857a140ecfd7dd","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T21:59:00.547+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 47db2424547b4b05892766bad0bbd3a1 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.664+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=47db2424547b4b05892766bad0bbd3a1, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.673+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 47db2424547b4b05892766bad0bbd3a1 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.675+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.681+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.681+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 47db2424547b4b05892766bad0bbd3a1 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.681+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.681+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.685+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.685+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.685+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.685+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:30.685+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:42.795+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 47db2424547b4b05892766bad0bbd3a1","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T21:59:42.796+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: a5fe1f25d49b4fc7bb754e601e8072a7 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.620+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=a5fe1f25d49b4fc7bb754e601e8072a7, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.632+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: a5fe1f25d49b4fc7bb754e601e8072a7 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.633+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.637+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.637+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection a5fe1f25d49b4fc7bb754e601e8072a7 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.637+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.637+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 10 rows (has_more: false, last_seq: Some(SeqId(256865545165635584)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.643+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.643+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 10 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.643+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.644+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 10 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:01:15.644+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:01:46.127+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:01:46.128+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:01:56.895+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:01:56.895+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:02:04.218+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection a5fe1f25d49b4fc7bb754e601e8072a7","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:03:42.613+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:03:42.614+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.313+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.314+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection a5fe1f25d49b4fc7bb754e601e8072a7 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.317+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.317+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 15 rows (has_more: false, last_seq: Some(SeqId(256873119743115264)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.364+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.364+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 15 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.364+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.364+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 15 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:21.364+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection a5fe1f25d49b4fc7bb754e601e8072a7","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:26.180+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:10:26.180+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:26.105+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:26.410+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 2 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:17:26.410+02:00"}
{"level":"WARN","line":546,"message":"Force closing 2 connections after timeout","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:17:31.433+02:00"}
{"level":"INFO","line":556,"message":"WebSocket shutdown complete","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:17:31.434+02:00"}
{"level":"INFO","line":408,"message":"Waiting up to 300s for active jobs to complete...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:31.434+02:00"}
{"level":"INFO","line":80,"message":"Initiating job manager shutdown","target":"kalamdb_core::jobs::jobs_manager::types","thread":"main","timestamp":"2025-12-09T22:17:31.434+02:00"}
{"level":"INFO","line":429,"message":"All jobs completed successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:31.435+02:00"}
{"level":"INFO","line":447,"message":"Performing cleanup to release file descriptors...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:31.435+02:00"}
{"level":"INFO","line":451,"message":"Graceful shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:31.435+02:00"}
{"level":"INFO","line":455,"message":"Server shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:31.435+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.190+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.190+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.190+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     4444ee8                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.190+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.191+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 16:35:10 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.191+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.191+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.191+02:00"}
{"level":"INFO","line":139,"message":"File descriptor limit: 1048575","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:17:52.196+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (52.82ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.249+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T22:17:52.250+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T22:17:52.251+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T22:17:52.251+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=10, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T22:17:52.251+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:17:52.257+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (8.99ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.258+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 2 entries (0.64ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.259+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.16ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.259+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.259+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.260+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.69ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.260+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.260+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.260+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table test_wasm_1765308045498.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table test_wasm_1765308045498.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":372,"message":"Loaded 4 tables: 3 user, 0 shared, 1 stream (0 system already registered)","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (1.44ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.261+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.25ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 65.89ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=10, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.262+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:17:52.263+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T22:17:52.263+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:17:52.265+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:17:52.267+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:17:52.269+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:17:52.270+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:17:52.271+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T22:17:52.273+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T22:17:52.274+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T22:17:52.275+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:17:52.277+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:17:52.278+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T22:17:52.279+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 01492adedfa74f77bb71c4f99177e69f (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.610+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=01492adedfa74f77bb71c4f99177e69f, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.613+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 01492adedfa74f77bb71c4f99177e69f as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.617+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.621+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.621+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 01492adedfa74f77bb71c4f99177e69f on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.625+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.625+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 15 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.634+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.634+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 15 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.634+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.634+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 15 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:18:11.634+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:18:15.293+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:18:15.617+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:18:15.852+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:18:16.060+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection 01492adedfa74f77bb71c4f99177e69f","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:20:21.708+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:20:21.709+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:24:25.488+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 01492adedfa74f77bb71c4f99177e69f","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:24:25.488+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 98388d2fe14347ef9b911247e727071b (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.371+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=98388d2fe14347ef9b911247e727071b, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.374+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 98388d2fe14347ef9b911247e727071b as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.375+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.376+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.376+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 98388d2fe14347ef9b911247e727071b on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.381+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.381+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 19 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.389+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.389+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 19 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.389+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.389+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 19 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:39.389+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection 98388d2fe14347ef9b911247e727071b","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:42.547+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:42.547+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.638+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.639+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 98388d2fe14347ef9b911247e727071b on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.639+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.639+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 19 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.645+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.645+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 19 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.645+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.645+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 19 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:24:45.646+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection 98388d2fe14347ef9b911247e727071b","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:01.966+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:01.966+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.609+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.610+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 98388d2fe14347ef9b911247e727071b on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.611+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.612+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 19 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.618+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.618+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 19 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.618+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.618+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 19 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:25:07.618+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:26:03.749+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 98388d2fe14347ef9b911247e727071b","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:26:03.750+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: fc9333b883ef4c2e903f99bbfb8eba4d (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.643+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=fc9333b883ef4c2e903f99bbfb8eba4d, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.646+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: fc9333b883ef4c2e903f99bbfb8eba4d as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.647+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.653+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.653+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection fc9333b883ef4c2e903f99bbfb8eba4d on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.653+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.654+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 20 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.661+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.661+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 20 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.661+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.661+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 20 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:09.662+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:12.519+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:12.986+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:13.273+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:13.481+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:13.734+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:13.935+02:00"}
{"level":"ERROR","line":224,"message":"âŒ SQL execution failed | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_logs\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.audit_logs.audit_id, system.audit_logs.timestamp, system.audit_logs.actor_user_id, system.audit_logs.actor_username, system.audit_logs.action, system.audit_logs.target, system.audit_logs.details, system.audit_logs.ip_address.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:40.327+02:00"}
{"level":"ERROR","line":224,"message":"âŒ SQL execution failed | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_logs\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.audit_logs.audit_id, system.audit_logs.timestamp, system.audit_logs.actor_user_id, system.audit_logs.actor_username, system.audit_logs.action, system.audit_logs.target, system.audit_logs.details, system.audit_logs.ip_address.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:40.327+02:00"}
{"level":"ERROR","line":224,"message":"âŒ SQL execution failed | sql='SELECT timestamp, level, thread, target, line, message\n        FROM system.server_logs\n       ORDER BY timestamp DESC LIMIT 500' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.server_logs.timestamp, system.server_logs.level, system.server_logs.thread, system.server_logs.target, system.server_logs.line, system.server_logs.message.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:41.588+02:00"}
{"level":"ERROR","line":224,"message":"âŒ SQL execution failed | sql='SELECT timestamp, level, thread, target, line, message\n        FROM system.server_logs\n       ORDER BY timestamp DESC LIMIT 500' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.server_logs.timestamp, system.server_logs.level, system.server_logs.thread, system.server_logs.target, system.server_logs.line, system.server_logs.message.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:26:41.588+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:46.711+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: fc9333b883ef4c2e903f99bbfb8eba4d","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:26:46.712+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 9fcd5c80564e425b9432ee0b2f08e603 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.967+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=9fcd5c80564e425b9432ee0b2f08e603, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.969+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 9fcd5c80564e425b9432ee0b2f08e603 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.970+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.971+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.971+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 9fcd5c80564e425b9432ee0b2f08e603 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.972+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.972+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 26 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.979+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.979+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 26 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.979+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.979+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 26 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:49.979+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection 9fcd5c80564e425b9432ee0b2f08e603","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:53.525+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:26:53.525+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 30908c05b0b5480ab5af1cd64eb03ce2 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.508+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=30908c05b0b5480ab5af1cd64eb03ce2, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.509+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 30908c05b0b5480ab5af1cd64eb03ce2 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.510+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.511+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.511+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 30908c05b0b5480ab5af1cd64eb03ce2 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.512+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.512+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 26 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.517+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.517+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 26 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.517+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.518+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 26 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:27:01.518+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: 3ed0f503f17a43f7aac80a10de20c971 (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.086+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=3ed0f503f17a43f7aac80a10de20c971, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.087+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: 3ed0f503f17a43f7aac80a10de20c971 as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.095+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.097+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.097+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection 3ed0f503f17a43f7aac80a10de20c971 on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.098+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.098+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 26 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.105+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.105+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 26 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.105+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.105+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 26 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:51.105+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:54.968+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:55.200+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:55.442+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:55.660+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:55.835+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:55.995+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:56.176+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:56.335+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:56.517+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:27:56.696+02:00"}
{"level":"INFO","line":210,"message":"Unregistered subscription sub-749350216b553eee for connection 3ed0f503f17a43f7aac80a10de20c971","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:59.088+02:00"}
{"level":"INFO","line":43,"message":"Unsubscribed: sub-749350216b553eee","target":"kalamdb_api::handlers::events::unsubscribe","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:27:59.089+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:33:20.524+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:33:20.524+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:33:20.524+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 3ed0f503f17a43f7aac80a10de20c971","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:33:20.524+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 9fcd5c80564e425b9432ee0b2f08e603","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:33:20.524+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: 30908c05b0b5480ab5af1cd64eb03ce2","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:33:20.524+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:46:35.635+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:46:35.938+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 0 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":556,"message":"WebSocket shutdown complete","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":408,"message":"Waiting up to 300s for active jobs to complete...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":80,"message":"Initiating job manager shutdown","target":"kalamdb_core::jobs::jobs_manager::types","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":429,"message":"All jobs completed successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":447,"message":"Performing cleanup to release file descriptors...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":451,"message":"Graceful shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":455,"message":"Server shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:46:35.939+02:00"}
{"level":"INFO","line":124,"message":"â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.218+02:00"}
{"level":"INFO","line":125,"message":"â•‘           KalamDB Server v0.1.1                                 â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.219+02:00"}
{"level":"INFO","line":126,"message":"â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.219+02:00"}
{"level":"INFO","line":127,"message":"â•‘  Commit:     4f4a81c                                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.219+02:00"}
{"level":"INFO","line":128,"message":"â•‘  Branch:     015-admin-ui                                      â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.219+02:00"}
{"level":"INFO","line":129,"message":"â•‘  Built:      2025-12-09 20:27:54 UTC                           â•‘","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.219+02:00"}
{"level":"INFO","line":130,"message":"â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.219+02:00"}
{"level":"INFO","line":131,"message":"Host: 127.0.0.1  Port: 8080","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.219+02:00"}
{"level":"INFO","line":139,"message":"File descriptor limit: 1048575","target":"kalamdb_server","thread":"main","timestamp":"2025-12-09T22:51:48.223+02:00"}
{"level":"INFO","line":52,"message":"RocksDB initialized at ./data/rocksdb (45.84ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.270+02:00"}
{"level":"INFO","line":147,"message":"SystemTablesRegistry: Setting stats provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T22:51:48.271+02:00"}
{"level":"INFO","line":158,"message":"SystemTablesRegistry: Setting settings provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T22:51:48.271+02:00"}
{"level":"INFO","line":169,"message":"SystemTablesRegistry: Setting server_logs provider","target":"kalamdb_system::registry","thread":"main","timestamp":"2025-12-09T22:51:48.271+02:00"}
{"level":"INFO","line":68,"message":"DataFusion configured: target_partitions=10, batch_size=8192","target":"kalamdb_core::sql::datafusion_session","thread":"main","timestamp":"2025-12-09T22:51:48.271+02:00"}
{"level":"INFO","line":279,"message":"ConnectionsManager initialized (node=node1, client_timeout=10s, auth_timeout=3s)","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:51:48.278+02:00"}
{"level":"INFO","line":80,"message":"AppContext initialized with all stores, managers, registries, and providers (8.91ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.279+02:00"}
{"level":"INFO","line":91,"message":"Manifest cache restored from RocksDB: 2 entries (0.38ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.279+02:00"}
{"level":"INFO","line":108,"message":"System tables initialized with schema version tracking (0.15ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.279+02:00"}
{"level":"INFO","line":125,"message":"JobsManager background task spawned","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.279+02:00"}
{"level":"INFO","line":152,"message":"Found 1 existing storage(s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.280+02:00"}
{"level":"INFO","line":154,"message":"Storage initialization completed (0.67ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.280+02:00"}
{"level":"INFO","line":180,"message":"SqlExecutor initialized with DROP TABLE support, storage registry, job manager, and table registration","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.280+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.conversations","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.conversations with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table chat.typing_events","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table chat.typing_events with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":47,"message":"[SchemaRegistry] Inserting provider for table test_wasm_1765308045498.messages","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":103,"message":"[SchemaRegistry] Registered table test_wasm_1765308045498.messages with DataFusion catalog","target":"kalamdb_core::schema_registry::provider_registry","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":381,"message":"Loaded 4 tables: 3 user, 0 shared, 1 stream (0 system already registered)","target":"kalamdb_core::sql::executor","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":185,"message":"Existing tables loaded and registered with DataFusion (1.48ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.281+02:00"}
{"level":"INFO","line":198,"message":"Rate limiter initialized (1000 queries/sec, 100 messages/sec, 50 max subscriptions)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":217,"message":"ConnectionsManager initialized (client_timeout=10s, auth_timeout=3s, heartbeat_interval=5s)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":230,"message":"Job management delegated to JobsManager (already running in background, handles stream eviction)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":241,"message":"User initialization completed (0.14ms)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":255,"message":"ğŸš€ Server bootstrap completed in 58.30ms","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":270,"message":"Starting HTTP server on 127.0.0.1:8080","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":271,"message":"Endpoints: POST /v1/api/sql, GET /v1/ws","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":274,"message":"Server config: workers=10, max_connections=25000, backlog=2048, blocking_threads=512, body_limit=10MB","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":288,"message":"Connection protection: max_conn_per_ip=100, max_req_per_ip_per_sec=200, ban_duration=300s","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.282+02:00"}
{"level":"INFO","line":322,"message":"Admin UI enabled at /ui (embedded in binary)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.283+02:00"}
{"level":"INFO","line":363,"message":"HTTP/2 support enabled (h2c - HTTP/2 cleartext)","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.283+02:00"}
{"level":"INFO","line":117,"message":"Starting JobsManager run loop with max 10 concurrent jobs","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:51:48.283+02:00"}
{"level":"INFO","line":35,"message":"Starting job processing loop (max 10 concurrent)","target":"kalamdb_core::jobs::jobs_manager::runner","thread":"main","timestamp":"2025-12-09T22:51:48.284+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:0","timestamp":"2025-12-09T22:51:48.286+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:51:48.288+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:51:48.289+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:3","timestamp":"2025-12-09T22:51:48.290+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:4","timestamp":"2025-12-09T22:51:48.291+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:5","timestamp":"2025-12-09T22:51:48.292+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:6","timestamp":"2025-12-09T22:51:48.294+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:7","timestamp":"2025-12-09T22:51:48.295+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:8","timestamp":"2025-12-09T22:51:48.296+02:00"}
{"level":"INFO","line":46,"message":"CORS: Allowing any origin","target":"kalamdb_server::middleware","thread":"actix-rt|system:0|arbiter:9","timestamp":"2025-12-09T22:51:48.298+02:00"}
{"level":"INFO","line":58,"message":"No incomplete jobs to recover","target":"kalamdb_core::jobs::jobs_manager::utils","thread":"main","timestamp":"2025-12-09T22:51:48.299+02:00"}
{"level":"INFO","line":94,"message":"New WebSocket connection: b1aaae0413ee4a688dc78227de79190e (auth required within 3s)","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.470+02:00"}
{"level":"INFO","line":71,"message":"Authenticating WebSocket: connection_id=b1aaae0413ee4a688dc78227de79190e, username=root","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.473+02:00"}
{"level":"INFO","line":122,"message":"WebSocket authenticated: b1aaae0413ee4a688dc78227de79190e as root (System)","target":"kalamdb_api::handlers::events::auth","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.474+02:00"}
{"level":"INFO","line":63,"message":"Processing subscription request: id=sub-749350216b553eee, sql='SELECT * FROM chat.messages', user_id=root, options=SubscriptionOptions { batch_size: Some(1000), last_rows: Some(100) }","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.479+02:00"}
{"level":"INFO","line":79,"message":"Using last_rows=100 for initial data","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.479+02:00"}
{"level":"INFO","line":157,"message":"Registered subscription sub-749350216b553eee for connection b1aaae0413ee4a688dc78227de79190e on chat:messages","target":"kalamdb_core::live::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.479+02:00"}
{"level":"INFO","line":169,"message":"fetch_initial_data called: table=chat:messages, type=User, limit=100, since=None","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.479+02:00"}
{"level":"INFO","line":334,"message":"fetch_initial_data complete: table=chat:messages, returned 42 rows (has_more: false, last_seq: Some(SeqId(256861935954460672)))","target":"kalamdb_core::live::initial_data","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.489+02:00"}
{"level":"INFO","line":94,"message":"Subscription registered: id=sub-749350216b553eee, user_id=root, has_initial_data=true","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.489+02:00"}
{"level":"INFO","line":101,"message":"Initial data: 42 rows, has_more=false","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.489+02:00"}
{"level":"INFO","line":138,"message":"Sending subscription_ack for sub-749350216b553eee","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.489+02:00"}
{"level":"INFO","line":142,"message":"Sending initial_data_batch for sub-749350216b553eee with 42 rows","target":"kalamdb_api::handlers::events::subscription","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:52:26.489+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:31.421+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:36.625+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:36.831+02:00"}
{"level":"INFO","line":102,"message":"ğŸ“¢ notify_table_change called for table: 'chat.messages', user: 'root', change_type: Insert","target":"kalamdb_core::live::notification","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:37.078+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_logs\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.audit_logs.audit_id, system.audit_logs.timestamp, system.audit_logs.actor_user_id, system.audit_logs.actor_username, system.audit_logs.action, system.audit_logs.target, system.audit_logs.details, system.audit_logs.ip_address.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:49.938+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_logs\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.audit_logs.audit_id, system.audit_logs.timestamp, system.audit_logs.actor_user_id, system.audit_logs.actor_username, system.audit_logs.action, system.audit_logs.target, system.audit_logs.details, system.audit_logs.ip_address.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:49.946+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT timestamp, level, thread, target, line, message\n        FROM system.server_logs\n       ORDER BY timestamp DESC LIMIT 500' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.server_logs.timestamp, system.server_logs.level, system.server_logs.thread, system.server_logs.target, system.server_logs.line, system.server_logs.message.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:50.935+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT timestamp, level, thread, target, line, message\n        FROM system.server_logs\n       ORDER BY timestamp DESC LIMIT 500' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.server_logs.timestamp, system.server_logs.level, system.server_logs.thread, system.server_logs.target, system.server_logs.line, system.server_logs.message.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:50.948+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_logs\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.audit_logs.audit_id, system.audit_logs.timestamp, system.audit_logs.actor_user_id, system.audit_logs.actor_username, system.audit_logs.action, system.audit_logs.target, system.audit_logs.details, system.audit_logs.ip_address.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:55.104+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT audit_id, timestamp, actor_user_id, actor_username, action, target, details, ip_address\n        FROM system.audit_logs\n       ORDER BY timestamp DESC LIMIT 100' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.audit_logs.audit_id, system.audit_logs.timestamp, system.audit_logs.actor_user_id, system.audit_logs.actor_username, system.audit_logs.action, system.audit_logs.target, system.audit_logs.details, system.audit_logs.ip_address.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:55.114+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT metric_name, metric_value\n        FROM system.stats' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.stats.metric_name, system.stats.metric_value.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:59.495+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT metric_name, metric_value\n        FROM system.stats' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.stats.metric_name, system.stats.metric_value.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:52:59.503+02:00"}
{"level":"INFO","line":271,"message":"Client requested close: Some(CloseReason { code: Away, description: None })","target":"kalamdb_api::handlers::ws_handler","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:53:02.838+02:00"}
{"level":"INFO","line":32,"message":"Cleaning up connection: b1aaae0413ee4a688dc78227de79190e","target":"kalamdb_api::handlers::events::cleanup","thread":"actix-rt|system:0|arbiter:2","timestamp":"2025-12-09T22:53:02.838+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT metric_name, metric_value\n        FROM system.stats' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.stats.metric_name, system.stats.metric_value.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:53:03.119+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT metric_name, metric_value\n        FROM system.stats' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.stats.metric_name, system.stats.metric_value.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:53:03.124+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT metric_name, metric_value\n        FROM system.stats' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.stats.metric_name, system.stats.metric_value.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:53:03.766+02:00"}
{"level":"ERROR","line":229,"message":"âŒ SQL execution failed | sql='SELECT metric_name, metric_value\n        FROM system.stats' | user='root' | role='System' | error='Schema error: No field named _seq. Valid fields are system.stats.metric_name, system.stats.metric_value.'","target":"sql::exec","thread":"actix-rt|system:0|arbiter:1","timestamp":"2025-12-09T22:53:03.771+02:00"}
{"level":"INFO","line":399,"message":"Received Ctrl+C, initiating graceful shutdown...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:53:26.794+02:00"}
{"level":"INFO","line":405,"message":"Shutting down WebSocket connections...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:53:27.097+02:00"}
{"level":"INFO","line":528,"message":"Initiating WebSocket shutdown with 0 active connections","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:53:27.100+02:00"}
{"level":"INFO","line":556,"message":"WebSocket shutdown complete","target":"kalamdb_core::live::connections_manager","thread":"main","timestamp":"2025-12-09T22:53:27.100+02:00"}
{"level":"INFO","line":408,"message":"Waiting up to 300s for active jobs to complete...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:53:27.100+02:00"}
{"level":"INFO","line":80,"message":"Initiating job manager shutdown","target":"kalamdb_core::jobs::jobs_manager::types","thread":"main","timestamp":"2025-12-09T22:53:27.100+02:00"}
{"level":"INFO","line":429,"message":"All jobs completed successfully","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:53:27.103+02:00"}
{"level":"INFO","line":447,"message":"Performing cleanup to release file descriptors...","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:53:27.103+02:00"}
{"level":"INFO","line":451,"message":"Graceful shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:53:27.103+02:00"}
{"level":"INFO","line":455,"message":"Server shutdown complete","target":"kalamdb_server::lifecycle","thread":"main","timestamp":"2025-12-09T22:53:27.103+02:00"}
